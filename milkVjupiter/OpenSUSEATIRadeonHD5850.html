<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="generator" content="pandoc">
      <meta name="author" content="Bas Magré">
      <meta name="date" content="2024-11-20">
      
      <title>Milk-V Jupiter OpenSUSE Tumbleweed ATI Radeon HD
5850</title>
      <link rel="icon" href="/website-template/favicon.ico">
      <!-- Bootstrap -->
      <link rel="stylesheet" target="_blank" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
      <!-- Font-awesome -->
      <link rel="stylesheet" target="_blank" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <!-- Styles -->
      <link rel="stylesheet" href="/website-template/styles.css">
            <!-- Add favicon here -->
            <!-- Add site-verifications here -->
         </head>
   <body>
            <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
                <!--<a class="navbar-brand" href="#">Navbar</a>-->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                   <ul class="navbar-nav mr-auto">
                      <li class="nav-item active">
                         <a class="nav-link" href="/index.html">Me <span class="sr-only">(current)</span></a>
                      </li>
                      <!-- <li class="nav-item">
                         <a class="nav-link" href="#">Link</a>
                      </li> -->
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarKODI" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Kodi Addons
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarKODI">
                           <a class="dropdown-item" href="/kodi/npo.html">NPO Uitzending gemist</a>               
                           <a class="dropdown-item" href="/kodi/kanalenlijst-hans.html">De Transponder - Kanalenlijk (Hans)</a>
                           <div class="dropdown-divider"></div>
                           <a class="dropdown-item" href="/kodi/rtlxl.html">(Inactive) RTLxl</a>
                        </div>
                     </li>
                     <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarMilkVJ" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Milk-V Jupiter
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarMilkVJ">
                           <a class="dropdown-item" href="/milkVjupiter/OpenSUSEATIRadeonR9_290.html">ATI Radeon R9 290 Kernel 6.1</a>
                           <a class="dropdown-item" href="/milkVjupiter/OpenSUSEATIRadeonHD5850.html">OpenSUSE Tumbleweed ATI Radeon HD 5850 Kernel 6.6</a>
                        </div>
                     </li>
                      <li class="nav-item dropdown">
                         <a class="nav-link dropdown-toggle" href="#" id="navbarSFVF2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                         Starfive VisionFive 2
                         </a>
                         <div class="dropdown-menu" aria-labelledby="navbarSFVF2">
                            <a class="dropdown-item" href="/starfiveVisionFive2/UbuntuATIRadeonR9_290.html">Ubuntu 22.04 with ATI Radeon R9 290</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/FedoraATIRadeon5450.html">Fedora with ATI Radeon5450</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/UbuntuATIRadeonR9_290_2023_11_20.html">Ubuntu 23.10 with ATI Radeon R9 290</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/OpenSUSEATIRadeonR9_290.html">OpenSUSE Tumbleweed ATI Radeon R9 290</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/OpenSUSEATIRadeonR9_290_mainline.html">OpenSUSE Tumbleweed ATI Radeon R9 290 mainline kernel</a>
                            <!-- <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a> -->
                         </div>
                      </li>
                      <!-- <li class="nav-item">
                         <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                      </li> -->
                   </ul>
                   <div class="menu-icons">
                     <a class="menu-icon" target="_blank" href="https://github.com/Opvolger" target="_blank"><i class="fa fa-github fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.twitter.com/Opvolger" target="_blank"><i class="fa fa-twitter fa-2x"></i></a>
                     <a class="menu-icon" href="mailto:Opvolger@gmail.com"><i class="fa fa-at fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.linkedin.com/in/bas-magr%C3%A9-67234222/" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.youtube.com/@justanotherdevopsguy" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.youtube.com/@opvolger" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
                  </div>

                   <!-- <form class="form-inline my-2 my-lg-0">
                      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                      <button class="btn btn-outline-info my-2 my-sm-0" type="submit">Search</button>
                   </form> -->
                </div>
             </nav>
            <div class="container">
         <p class="date">2024-11-20 - Bas Magré</p>
         <!-- <h1 class="title">Milk-V Jupiter OpenSUSE Tumbleweed ATI
Radeon HD 5850</h1> -->
                  <div class="row">
            <div class="col-xl-10"><h1
id="milk-v-jupiter---opensuse-tumbleweed-with-dedicated-gpu-ati-radeon-hd-5850">Milk-V
Jupiter - OpenSUSE Tumbleweed with dedicated GPU ATI Radeon HD 5850</h1>
<h2 id="software">Software</h2>
<p>I used the VisionFive2 image of OpenSUSE Tumbleweed.</p>
<h2 id="hardware">Hardware</h2>
<ul>
<li>Milk-V Jupiter</li>
<li>AMD/ATI Radeon HD 5850, Bought on a Dutch second-hand website, for
15 EURO.</li>
<li>For debugging a USB to TTL (was still lying around in the house), is
about 5 EURO.</li>
</ul>
<h2 id="setup-hardware">Setup (hardware)</h2>
<p>I have had multiple video cards directly in the jupiter.</p>
<ul>
<li>AMD RX 6600 It was detected, but with all firmwares i got a kernel
panic.</li>
<li>NVIDIA GeForce GTX 770, was detected also got to see kernel drivers
with ‘lspci -k’ but didn’t work. (gave no image).</li>
<li>ATI Radeon HD 5450 works! got in KDE desktop (but was slow)</li>
<li>ATI Radeon HD 5850 works! got in KDE desktop</li>
<li>ATI Radeon R9 290 only works on a Riser board with another power
supply.</li>
</ul>
<p>This setup is with only the ATI Radeon HD 5850, inserted in the
mainboard. but most likely work with other ATI/AMD GPU’s.</p>
<h2 id="compiling-the-kernel">Compiling the kernel</h2>
<p>I forked the <a
target="_blank" href="https://gitee.com/bianbu-linux/linux-6.6">Bianbu Linux - SpacemiT
kernel</a>.</p>
<p>After the 6.1 kernel a lot is fixxed, so I now only need a config
file.</p>
<p>I have put all this in my <a
target="_blank" href="https://github.com/Opvolger/spacemit-k1-linux-6.6">github</a>.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we need some firmwares in the kernel</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone <span class="at">--depth</span> 1 git://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git linux-firmware</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># we need the kernel</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/Opvolger/spacemit-k1-linux-6.6.git</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> spacemit-k1-linux-6.6</span></code></pre></div>
<p><a target="_blank" href="https://bianbu-linux.spacemit.com/en/faqs/">Download</a>/<a
target="_blank" href="https://gitee.com/bianbu-linux/buildroot-ext/tree/bl-v2.0.y/board/spacemit/k1/target_overlay/lib/firmware">Download</a>
esos.elf and put it in linux-firmware directory (cloned from
git.kernel.org)</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a .config for compiling the kernel without the onboard GPU and with the AMDGPU enabled.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- k1_extern_gpu_defconfig</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># i have added my GPU firmwares in the config file, maybe you need to edit the `.config` file.</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># find the line with CONFIG_EXTRA_FIRMWARE= and add you firmwares. i have a radeon/CYPRESS so search the kernel source code with the text `radeon/CYPRESS` and you will see all the *.bin files that are needed. or look in dir `linux-firmware/amdgpu/`. See list of codename/chipset (what is in the firmware) over here: https://help.ubuntu.com/community/RadeonDriver</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># build the kernel, i have 16 cores, so change it if you have more (or less).</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- <span class="at">-j</span> 16</span></code></pre></div>
<p>The kernel will be here: <code>arch/riscv/boot/Image.gz</code> and
dtb file here
<code>arch/riscv/boot/dts/spacemit/k1-x_milkv-jupiter.dtb</code>.</p>
<h2 id="create-sd-card-emmc-m2-with-opensuse-tumbleweed">Create SD-Card
/ eMMC / M2 with Opensuse Tumbleweed</h2>
<h3 id="download-fedora-jupiter-build">Download Fedora Jupiter
build</h3>
<p><a
target="_blank" href="https://milkv.io/docs/jupiter/getting-started/resources">Download</a>
the Fedora 41 build. <a
target="_blank" href="https://openkoji.iscas.ac.cn/pub/dist-repos/dl/Milk-V/Jupiter/images/latest/k1-fedora-minimal.img.gz">Direct
Link to k1-fedora-minimal.img.gz</a></p>
<p>I use this as a base, we replace the Fedora partition (root) for the
OpenSuse Tumbleweed (root).</p>
<h3 id="download-opensuse-tumbleweed-build">Download OpenSuse Tumbleweed
build</h3>
<p><a
target="_blank" href="https://en.opensuse.org/openSUSE:RISC-V#On_real_hardware">Download</a>
the OpenSuse Tumbleweed image <a
target="_blank" href="https://download.opensuse.org/ports/riscv/tumbleweed/images/openSUSE-Tumbleweed-RISC-V-KDE.riscv64-rootfs.riscv64.tar.xz">Direct
Link to
openSUSE-Tumbleweed-RISC-V-KDE.riscv64-rootfs.riscv64.tar.xz</a></p>
<h3 id="making-it">Making it</h3>
<p>Use a tool to flash the k1-fedora-minimal.img.gz to a CD-Card. U used
balenaEtcher</p>
<p>Here you can see that my CD-Card is /dev/sdb (fedora img has 6
parttions)</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> lsblk </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">NAME</span>        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">sda</span>           8:0    0 223,6G  0 disk </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ex">├─sda1</span>        8:1    0   100M  0 part </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">├─sda2</span>        8:2    0    16M  0 part </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="ex">├─sda3</span>        8:3    0   223G  0 part </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="ex">└─sda4</span>        8:4    0   505M  0 part </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ex">sdb</span>           8:16   1  29,7G  0 disk </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="ex">├─sdb1</span>        8:17   1   256K  0 part </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="ex">├─sdb2</span>        8:18   1    64K  0 part </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="ex">├─sdb3</span>        8:19   1     1M  0 part </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="ex">├─sdb4</span>        8:20   1     2M  0 part </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="ex">├─sdb5</span>        8:21   1   256M  0 part </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="ex">└─sdb6</span>        8:22   1     2G  0 part </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="ex">zram0</span>       252:0    0     8G  0 disk <span class="pp">[</span><span class="ss">SWAP</span><span class="pp">]</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="ex">nvme0n1</span>     259:0    0 465,8G  0 disk </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="ex">└─nvme0n1p1</span> 259:1    0 465,8G  0 part </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="ex">nvme1n1</span>     259:2    0 931,5G  0 disk </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="ex">├─nvme1n1p1</span> 259:3    0   300M  0 part /boot/efi</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="ex">├─nvme1n1p2</span> 259:4    0   280G  0 part /</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="ex">├─nvme1n1p3</span> 259:5    0   8,8G  0 part <span class="pp">[</span><span class="ss">SWAP</span><span class="pp">]</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="ex">└─nvme1n1p4</span> 259:6    0 642,4G  0 part /home</span></code></pre></div>
<ul>
<li>1 = first stage bootloader (fsbl)</li>
<li>2 = saved environment variables for u-boot (env)</li>
<li>3 = RISC-V Open Source Supervisor Binary Interface (opensbi)</li>
<li>4 = U-Boot boot loader (uboot)</li>
<li>5 = kernel and devices-tree (bootfs)</li>
<li>6 = file-system (rootfs)</li>
</ul>
<p>We will replace the rootfs for the OpenSuse Tumbleweed rootfs.</p>
<p>First we will delete the rootfs partition of Fedora and create a new
root partition for OpenSuse Tumbleweed.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo fdisk /dev/sdb</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[sudo]</span> password for opvolger: </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to fdisk <span class="er">(</span><span class="ex">util-linux</span> 2.40.2<span class="kw">)</span><span class="bu">.</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Changes</span> will remain in memory only, until you decide to write them.</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Be</span> careful before using the write command.</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="ex">GPT</span> PMBR size mismatch <span class="er">(</span><span class="ex">4726823</span> != 62333951<span class="kw">)</span> <span class="ex">will</span> be corrected by write.</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> backup GPT table is not on the end of the device. This problem will be corrected by write.</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Command</span> <span class="er">(</span><span class="ex">m</span> for help<span class="kw">)</span><span class="bu">:</span> d</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Partition</span> number <span class="er">(</span><span class="ex">1-6,</span> default 6<span class="kw">)</span><span class="bu">:</span> 6</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Partition</span> 6 has been deleted.</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="ex">Command</span> <span class="er">(</span><span class="ex">m</span> for help<span class="kw">)</span><span class="bu">:</span> n</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="ex">Partition</span> number <span class="er">(</span><span class="ex">6-128,</span> default 6<span class="kw">)</span><span class="bu">:</span> 6</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="ex">First</span> sector <span class="er">(</span><span class="ex">896-62333918,</span> default 532480<span class="kw">)</span><span class="bu">:</span> </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="ex">Last</span> sector, +/-sectors or +/-size<span class="dt">{K</span><span class="op">,</span><span class="dt">M</span><span class="op">,</span><span class="dt">G</span><span class="op">,</span><span class="dt">T</span><span class="op">,</span><span class="dt">P}</span> <span class="er">(</span><span class="ex">532480-62333918,</span> default 62332927<span class="kw">)</span><span class="bu">:</span> </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="ex">Created</span> a new partition 6 of type <span class="st">&#39;Linux filesystem&#39;</span> and of size 29,5 GiB.</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="ex">Partition</span> <span class="co">#6 contains a ext4 signature.</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="ex">Do</span> you want to remove the signature<span class="pp">?</span> <span class="pp">[</span><span class="ss">Y</span><span class="pp">]</span>es/<span class="pp">[</span><span class="ss">N</span><span class="pp">]</span>o: N</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="ex">Command</span> <span class="er">(</span><span class="ex">m</span> for help<span class="kw">)</span><span class="bu">:</span> w</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> partition table has been altered.</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="ex">Calling</span> ioctl<span class="er">(</span><span class="kw">)</span> <span class="ex">to</span> re-read partition table.</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="ex">Syncing</span> disks.</span></code></pre></div>
<p>Remove and insert the SD-Card again.</p>
<p>Now we will format the new partition</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo mkfs <span class="at">-t</span> ext4 /dev/sdb6</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">mke2fs</span> 1.47.1 <span class="er">(</span><span class="ex">20-May-2024</span><span class="kw">)</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/sdb6</span> contains a ext4 file system labelled <span class="st">&#39;rootfs&#39;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">last</span> mounted on /home/hezhengyu/program/images/fedora on Mon Jul 15 05:12:15 2024</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Proceed</span> anyway<span class="pp">?</span> <span class="er">(</span><span class="ex">y,N</span><span class="kw">)</span> <span class="ex">y</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Creating</span> filesystem with 7725056 4k blocks and 1933312 inodes</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Filesystem</span> UUID: ffafcae9-30cd-4b81-b4d2-23ad3ff5b340</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Superblock</span> backups stored on blocks: </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="ex">32768,</span> 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>        <span class="ex">4096000</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Allocating</span> group tables: done                            </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Writing</span> inode tables: done                            </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Creating</span> journal <span class="er">(</span><span class="ex">32768</span> blocks<span class="kw">)</span><span class="bu">:</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="ex">Writing</span> superblocks and filesystem accounting information: done   </span></code></pre></div>
<p>You see that my partition is getting the UUID
<code>ffafcae9-30cd-4b81-b4d2-23ad3ff5b340</code>, we will need this
later in the <code>env_k1-x.txt</code>.</p>
<p>We will now extract the rootfs of OpenSuse Tumbleweed to the new
partition.</p>
<p>Mount the rootfs partition. Now we will unpack the root fs</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># go to home dir</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create dir mnt (if not existing)</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> mnt</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># mount new partition to mnt dir in home dir.</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo mount /dev/sdb6 /home/<span class="va">$USER</span>/mnt</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="ex">[sudo]</span> password for opvolger:</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo tar <span class="at">-xJvf</span> /home/<span class="va">$USER</span>/Downloads/openSUSE-Tumbleweed-RISC-V-KDE.riscv64-rootfs.riscv64.tar.xz <span class="at">--directory</span> /home/<span class="va">$USER</span>/mnt</span></code></pre></div>
<p>Done. We will umount /dev/sdb6 and mount /dev/sdb5. So we can edit
the boot txt file.</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo umount /dev/sdb6</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo mount /dev/sdb5 /home/<span class="va">$USER</span>/mnt</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls /home/<span class="va">$USER</span>/mnt</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="ex">bianbu.bmp</span>  env_k1-x.txt  extlinux  initramfs-6.1.15+.img  spacemit  vmlinuz-6.1.15+</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano /home/<span class="va">$USER</span>/mnt/env_k1-x.txt</span></code></pre></div>
<p>In my version of this image there is a
<code>initramfs-6.1.15+.img</code> in <code>/home/$USER/mnt</code>. This
can change. If that happend, you have to use a different version of that
file in the env_k1-x.txt! Keep in mind i use my UUID of my formated
rootfs, yours is different! I use
<code>ffafcae9-30cd-4b81-b4d2-23ad3ff5b340</code>. If you are using an
eMMC use <code>mmc 1:5</code> and not <code>mmc 0:5</code>. If you are
using nvme use <code>nvme 0:5</code> and not <code>mmc 0:5</code></p>
<p>Now change</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dt">ramdisk_addr_r</span><span class="ot">=</span><span class="st">0x21000000</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="dt">fdt_addr_r</span><span class="ot">=</span><span class="st">0x31000000</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="dt">detect_dtb</span><span class="ot">=</span><span class="st">setenv fdtfile ${product_name}.dtb</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="dt">bootcmd</span><span class="ot">=</span><span class="st">run detect_dtb; sysboot mmc ${boot_devnum}:${bootfs_part} any ${kernel_addr_r} /extlinux/extlinux.conf</span></span></code></pre></div>
<p>to</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">ramdisk_addr_r</span><span class="ot">=</span><span class="st">0x21000000</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="dt">fdt_addr_r</span><span class="ot">=</span><span class="st">0x31000000</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="dt">load_files</span><span class="ot">=</span><span class="st">load mmc 0:5 ${kernel_addr_r} /Image.gz; load mmc 0:5 ${fdt_addr_r} /k1-x_milkv-jupiter.dtb; load mmc 0:5 ${ramdisk_addr_r} /initramfs-6.1.15+.img</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="dt">set_bootargs</span><span class="ot">=</span><span class="st">setenv bootargs &#39;console=ttyS0,115200 root=UUID=ffafcae9-30cd-4b81-b4d2-23ad3ff5b340 rootfstype=ext4 rootwait rw earlycon clk_ignore_unused loglevel=7 radeon.pcie_gen2=0 swiotlb=131072 stmmaceth=chain_mode:1 selinux=0&#39;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="dt">bootcmd</span><span class="ot">=</span><span class="st">run set_bootargs; run load_files; booti $kernel_addr_r $ramdisk_addr_r:$filesize $fdt_addr_r</span></span></code></pre></div>
<p>Exit the editor with Ctrl + X, and save your changes.</p>
<p>Copy the kernel files and umount the bootfs partition</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd spacemit-k1-linux-6.6</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo cp arch/riscv/boot/Image.gz /home/<span class="va">$USER</span>/mnt</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo cp arch/riscv/boot/dts/spacemit/k1-x_milkv-jupiter.dtb /home/<span class="va">$USER</span>/mnt</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo umount /dev/sdb5</span></code></pre></div>
<p>Done, put your SD-Card in your Jupiter and boot.</p>
<p>You will see a KDE login, but there is no user yet!.</p>
<p>Hit <code>Ctrl + Alt + F3</code> and login as <code>root</code> with
password <code>linux</code>.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to openSUSE Tumbleweed 20241117 <span class="at">-</span> Kernel 6.6.36+ <span class="er">(</span><span class="ex">ttyS0</span><span class="kw">)</span><span class="bu">.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="ex">end0:</span> 192.168.2.28 2a02:a447:277b:1:e172:a638:be8a:114c</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="ex">end1:</span>  </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="ex">fedora</span> login: root</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Password:</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Have</span> a lot of fun...</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="ex">2a02-a447-277b-1-e172-a638-be8a-114c:~</span> <span class="co">#</span></span></code></pre></div>
<p>now create a user! I create a user opvolger.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> useradd opvolger</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># set password</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> passwd opvolger</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="ex">New</span> password: </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="ex">BAD</span> PASSWORD: The password is shorter than 8 characters</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Retype</span> new password: </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="ex">passwd:</span> password updated successfully</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># install wheel group</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> zypper install system-group-wheel</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Retrieving</span> repository <span class="st">&#39;Open H.264 Codec (openSUSE Tumbleweed)&#39;</span> metadata ..<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Building</span> repository <span class="st">&#39;Open H.264 Codec (openSUSE Tumbleweed)&#39;</span> cache .......<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Retrieving</span> repository <span class="st">&#39;openSUSE-Tumbleweed-Oss&#39;</span> metadata .................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Building</span> repository <span class="st">&#39;openSUSE-Tumbleweed-Oss&#39;</span> cache ......................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Retrieving</span> repository <span class="st">&#39;openSUSE-Tumbleweed-Update&#39;</span> metadata ..............<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Building</span> repository <span class="st">&#39;openSUSE-Tumbleweed-Update&#39;</span> cache ...................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading</span> repository data...</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="ex">Reading</span> installed packages...</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> package dependencies...</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> following NEW package is going to be installed:</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">system-group-wheel</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span> new package to install.</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="ex">Package</span> download size:     8.6 KiB</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="ex">Package</span> install size change:</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>            <span class="kw">|</span>        <span class="ex">38</span> B  required by packages that will be installed</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>      <span class="ex">38</span> B  <span class="kw">|</span>  <span class="ex">-</span>      0 B  released by packages that will be removed</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="ex">Backend:</span>  classic_rpmtrans</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a><span class="ex">Continue?</span> [y/n/v/...<span class="pp">?</span> shows all options] <span class="er">(</span><span class="ex">y</span><span class="kw">)</span><span class="bu">:</span> </span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a><span class="ex">Retrieving:</span> system-group-wheel-20170617-26.1.noarch <span class="er">(</span><span class="ex">openSUSE-Tumbleweed-Oss</span><span class="kw">)</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>                                                            <span class="kw">(</span><span class="ex">1/1</span><span class="kw">)</span><span class="ex">,</span>   8.6 KiB</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a><span class="ex">Retrieving:</span> system-group-wheel-20170617-26.1.noarch.rpm ..................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a><span class="ex">Checking</span> for file conflicts: .............................................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="ex">/usr/bin/systemd-sysusers</span> <span class="at">--replace</span><span class="op">=</span>/usr/lib/sysusers.d/system-group-wheel.conf <span class="at">-</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a><span class="ex">Creating</span> group <span class="st">&#39;wheel&#39;</span> with GID 469.</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1/1</span><span class="kw">)</span> <span class="ex">Installing:</span> system-group-wheel-20170617-26.1.noarch ................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="ex">Running</span> post-transaction scripts .........................................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a><span class="co"># add user as sudo-er</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> usermod <span class="at">-a</span> <span class="at">-G</span> wheel opvolger</span></code></pre></div>
<p>Now hit <code>Ctrl + Alt + F2</code>. Login with user opvolger and
your password.</p>
<p>We will see the Desktop!</p>
<figure>
<img src="OpenSUSEATIRadeonHD5850/desktop.png"
alt="Milk-V Jupiter KDE Desktop with AMDGPU" />
<figcaption aria-hidden="true">Milk-V Jupiter KDE Desktop with
AMDGPU</figcaption>
</figure></div>
            <div class="d-none d-xl-block col-xl-2 bd-toc">
               <ul class="section-nav">
                  <li class="toc-entry"><ul>
<li><a
href="#milk-v-jupiter---opensuse-tumbleweed-with-dedicated-gpu-ati-radeon-hd-5850"
id="toc-milk-v-jupiter---opensuse-tumbleweed-with-dedicated-gpu-ati-radeon-hd-5850">Milk-V
Jupiter - OpenSUSE Tumbleweed with dedicated GPU ATI Radeon HD 5850</a>
<ul>
<li><a href="#software" id="toc-software">Software</a></li>
<li><a href="#hardware" id="toc-hardware">Hardware</a></li>
<li><a href="#setup-hardware" id="toc-setup-hardware">Setup
(hardware)</a></li>
<li><a href="#compiling-the-kernel"
id="toc-compiling-the-kernel">Compiling the kernel</a></li>
<li><a href="#create-sd-card-emmc-m2-with-opensuse-tumbleweed"
id="toc-create-sd-card-emmc-m2-with-opensuse-tumbleweed">Create SD-Card
/ eMMC / M2 with Opensuse Tumbleweed</a></li>
</ul></li>
</ul></li>
               </ul>
            </div>
         </div>
               </div>
            <!-- Add comment hosting service here -->
            <!-- Footer -->
            <footer class="footer text-muted">
                <div align="center">
                   <!-- Update licences -->
                   Content is available under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener">CC BY-SA 3.0</a>
                   &nbsp;|&nbsp;
                   Sourcecode licensed under <a target="_blank" href="https://www.gnu.org/licenses/gpl-3.0.en.html" target="_blank" rel="noopener">GPL-3.0</a>
                   <br />
                   <!-- Please keep the following line -->
                   Built with <a target="_blank" href="https://www.pandoc.org" target="_blank" rel="noopener">Pandoc</a> 
                   using <a target="_blank" href="https://github.com/ashki23/pandoc-bootstrap" target="_blank" rel="noopener">pandoc-bootstrap</a> theme
                   <br />
                   <!-- Update copyright -->
                   Copyright, Bas Magr&eacute;
                </div>
             </footer>
             <!-- Add global site tag (gtag.js) and site analytics here -->
            <!-- JS, Popper.js, and jQuery -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
      <!-- Mathjax -->
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script>
         /* Bootstrap styles to tables */
         function bootstrapStylePandocTables() {
         $('tr.header').parent('thead').parent('table').addClass('table table-condensed'); }
         $(document).ready(function () { bootstrapStylePandocTables(); });
         /* Adjust the height when click the toc */
         var shiftWindow = function() { scrollBy(0, -60) };
         window.addEventListener("hashchange", shiftWindow);
         function load() { if (window.location.hash) shiftWindow(); }
      </script>
   </body>
</html>