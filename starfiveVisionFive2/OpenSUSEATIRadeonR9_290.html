<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="generator" content="pandoc">
      <meta name="author" content="Bas Magré">
      <meta name="date" content="2023-02-05">
      
      <title>StarFive VisionFive 2 OpenSUSE Tumbleweed ATI Radeon R9
290</title>
      <link rel="icon" href="/website-template/favicon.ico">
      <!-- Bootstrap -->
      <link rel="stylesheet" target="_blank" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
      <!-- Font-awesome -->
      <link rel="stylesheet" target="_blank" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <!-- Styles -->
      <link rel="stylesheet" href="/website-template/styles.css">
            <!-- Add favicon here -->
            <!-- Add site-verifications here -->
         </head>
   <body>
            <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
                <!--<a class="navbar-brand" href="#">Navbar</a>-->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                   <ul class="navbar-nav mr-auto">
                      <li class="nav-item active">
                         <a class="nav-link" href="/index.html">Me <span class="sr-only">(current)</span></a>
                      </li>
                      <!-- <li class="nav-item">
                         <a class="nav-link" href="#">Link</a>
                      </li> -->
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarKODI" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Kodi Addons
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarKODI">
                           <a class="dropdown-item" href="/kodi/npo.html">NPO Uitzending gemist</a>               
                           <a class="dropdown-item" href="/kodi/kanalenlijst-hans.html">De Transponder - Kanalenlijk (Hans)</a>
                           <div class="dropdown-divider"></div>
                           <a class="dropdown-item" href="/kodi/rtlxl.html">(Inactive) RTLxl</a>
                        </div>
                     </li>
                      <li class="nav-item dropdown">
                         <a class="nav-link dropdown-toggle" href="#" id="navbarSFVF2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                         Starfive VisionFive 2
                         </a>
                         <div class="dropdown-menu" aria-labelledby="navbarSFVF2">
                            <a class="dropdown-item" href="/starfiveVisionFive2/UbuntuATIRadeonR9_290.html">Ubuntu 22.04 with ATI Radeon R9 290</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/FedoraATIRadeon5450.html">Fedora with ATI Radeon5450</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/UbuntuATIRadeonR9_290_2023_11_20.html">Ubuntu 23.10 with ATI Radeon R9 290</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/OpenSUSEATIRadeonR9_290.html">OpenSUSE Tumbleweed ATI Radeon R9 290</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/OpenSUSEATIRadeonR9_290_mainline.html">OpenSUSE Tumbleweed ATI Radeon R9 290</a>
                            <!-- <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a> -->
                         </div>
                      </li>
                      <!-- <li class="nav-item">
                         <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                      </li> -->
                   </ul>
                   <div class="menu-icons">
                     <a class="menu-icon" target="_blank" href="https://github.com/Opvolger" target="_blank"><i class="fa fa-github fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.twitter.com/Opvolger" target="_blank"><i class="fa fa-twitter fa-2x"></i></a>
                     <a class="menu-icon" href="mailto:Opvolger@gmail.com"><i class="fa fa-at fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.linkedin.com/in/bas-magr%C3%A9-67234222/" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.youtube.com/@justanotherdevopsguy" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.youtube.com/@opvolger" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
                  </div>

                   <!-- <form class="form-inline my-2 my-lg-0">
                      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                      <button class="btn btn-outline-info my-2 my-sm-0" type="submit">Search</button>
                   </form> -->
                </div>
             </nav>
            <div class="container">
         <p class="date">2023-02-05 - Bas Magré</p>
         <!-- <h1 class="title">StarFive VisionFive 2 OpenSUSE
Tumbleweed ATI Radeon R9 290</h1> -->
                  <div class="row">
            <div class="col-xl-10"><h1
id="starfive-visionfive-2---opensuse-tumbleweed-with-external-gpu-ati-radeon-r9-290">StarFive
VisionFive 2 - OpenSUSE Tumbleweed with external GPU ATI Radeon R9
290</h1>
<p>In addition to Ubuntu and Fedora, I had also run OpenSUSE Tumbleweed
on the StarFive VisionFive 2. I had never written a manual for this
before. Hence this manual. The OpenSUSE Tumbleweed image uses a kernel
that does not yet have the PCIe patches of the StarFive VisionFive 2.
More information about what is and is not main-stream in the kernel can
be found here: <a
target="_blank" href="https://rvspace.org/en/project/JH7110_Upstream_Plan">site</a></p>
<p>So I have created my own kernel and updated the efi/root partition a
little bit to boot OpenSUSE Tumbleweed with external GPU.</p>
<p>See the YouTube Video for the end result: <a
target="_blank" href="https://www.youtube.com/watch?v=65Ruq_NOBe8">video</a></p>
<p>The entire manual works from 1 directory. In my case
~/OpenSUSETumbleweed</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir OpenSUSETumbleweed</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd OpenSUSETumbleweed/</span></code></pre></div>
<h2 id="hardware">Hardware</h2>
<ul>
<li>StarFive VisionFive 2</li>
<li>BEYIMEI PCIE Riser-Ver010X GPU Riser, 1X tot 16X (4PIN/6PIN/MOLEX)
PCIE-verlengkabel, M.2 naar PCI-E Riser Card Bitcoin Litecoin Ethereum.
This is about 11 EURO on amazon, so no big deal… <a
target="_blank" href="https://www.amazon.nl/dp/B0BF4PH83Y?ref_=pe_28126711_487767311_302_E_DDE_dt_1">amazon-link</a></li>
<li>AMD/ATI Hawaii PRO [Radeon R9 290/390], Bought on a Dutch
second-hand website, for 45 EURO. or ATI Radeon 5450, Bought on a Dutch
second-hand website, for 10 EURO.</li>
<li>An ATX power supply (was still lying around in the house)</li>
<li>For debugging a USB to TTL (was still lying around in the house), is
about 5 EURO.</li>
</ul>
<p><img src="UbuntuATIRadeonR9_290/setup_001.jpeg"
alt="setup StarFive VisionFive 2" /> <img
src="UbuntuATIRadeonR9_290/setup_002.jpeg"
alt="setup StarFive VisionFive 2" /> or <img
src="FedoraATIRadeon5450/setup.png"
alt="setup StarFive VisionFive 2" /></p>
<h2 id="downloads">Downloads</h2>
<p>We’ll start with some downloads, we’ll need:</p>
<ul>
<li>images from OpenSUSE Tumbleweed <a
target="_blank" href="https://en.opensuse.org/HCL:VisionFive2">site</a></li>
<li>EFI-boot from Ubuntu <a
target="_blank" href="https://packages.ubuntu.com/mantic/cd-boot-images-riscv64">site</a></li>
<li>kernel/firmware from StarFive VisionFive 2 repo <a
target="_blank" href="https://github.com/starfive-tech/VisionFive2">site</a></li>
</ul>
<h3 id="update-firmware-of-the-starfive-visionfive-2">Update firmware of
the StarFive VisionFive 2</h3>
<p>I have already described this in the Ubuntu 23.10 manual <a
href="UbuntuATIRadeonR9_290_2023_11_20.html">here</a>.</p>
<p>But there is a newer version so here a short version:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># download firmware</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wget https://github.com/starfive-tech/VisionFive2/releases/download/JH7110_VF2_515_v5.10.3/u-boot-spl.bin.normal.out</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">--2024-02-10</span> 14:02:38--  https://github.com/starfive-tech/VisionFive2/releases/download/JH7110_VF2_515_v5.10.3/u-boot-spl.bin.normal.out</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> github.com <span class="er">(</span><span class="ex">github.com</span><span class="kw">)</span><span class="ex">...</span> 140.82.121.3</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Connecting</span> to github.com <span class="er">(</span><span class="ex">github.com</span><span class="kw">)|</span><span class="ex">140.82.121.3</span><span class="kw">|</span><span class="ex">:443...</span> connected.</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Length:</span> 148440 <span class="er">(</span><span class="ex">145K</span><span class="kw">)</span> <span class="ex">[application/octet-stream]</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Saving</span> to: ‘u-boot-spl.bin.normal.out’</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="ex">u-boot-spl.bin.normal.out</span>                                                    100%[===========================================================================================================================================================================================<span class="op">&gt;</span>] 144,96K  <span class="at">--.-KB</span>/s    in 0,02s   </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="ex">2024-02-10</span> 14:02:39 <span class="er">(</span><span class="ex">7,36</span> MB/s<span class="kw">)</span> <span class="ex">-</span> ‘u-boot-spl.bin.normal.out’ saved <span class="pp">[</span><span class="ss">148440/148440</span><span class="pp">]</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># download firmware</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wget https://github.com/starfive-tech/VisionFive2/releases/download/JH7110_VF2_515_v5.10.3/visionfive2_fw_payload.img</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="ex">--2024-02-10</span> 14:03:29--  https://github.com/starfive-tech/VisionFive2/releases/download/JH7110_VF2_515_v5.10.3/visionfive2_fw_payload.img</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> github.com <span class="er">(</span><span class="ex">github.com</span><span class="kw">)</span><span class="ex">...</span> 140.82.121.4</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="ex">Connecting</span> to github.com <span class="er">(</span><span class="ex">github.com</span><span class="kw">)|</span><span class="ex">140.82.121.4</span><span class="kw">|</span><span class="ex">:443...</span> connected.</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="ex">2024-02-10</span> 14:03:30 <span class="er">(</span><span class="ex">14,1</span> MB/s<span class="kw">)</span> <span class="ex">-</span> ‘visionfive2_fw_payload.img’ saved <span class="pp">[</span><span class="ss">3015045/3015045</span><span class="pp">]</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># take down your firewall (so port 69 can be used)</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo systemctl stop firewalld.service </span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="ex">[sudo]</span> password for opvolger: </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="co"># startup docker container with tftp of this directory</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> docker run <span class="at">-p</span> 0.0.0.0:69:69/udp <span class="at">-v</span> <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span>:/var/tftpboot <span class="at">-i</span> <span class="at">-t</span> pghalliday/tftp</span></code></pre></div>
<p>Do NOT hit Ctrl+C! We need this server until we are done flashing!
Keep it running</p>
<p>Setup your VisionFive 2 without a SD-card and the USB to TTL
connected (see <a
target="_blank" href="https://doc-en.rvspace.org/VisionFive2/PDF/VisionFive2_QSG.pdf">link</a>
for more information)</p>
<p>My machine (with docker) has ip-address 192.168.2.29 and I give my
VisionFive 2 the ip 192.168.2.222</p>
<p>Open a new terminal (keep docker running)</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This will open a serial screen to your VisionFive 2</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">screen</span> <span class="at">-L</span> /dev/ttyUSB0 115200</span></code></pre></div>
<p>Boot up your VisionFive 2</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading:</span> <span class="pp">*</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="ex">ARP</span> Retry count exceeded<span class="kw">;</span> <span class="ex">starting</span> again</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co">#</span></span></code></pre></div>
<p>This will be the commands (for the StarFive firmware):</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set the ip of the VisionFive 2, and of the server (where docker is running)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> setenv ipaddr 192.168.2.222<span class="kw">;</span> <span class="ex">setenv</span> serverip 192.168.2.29</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># test network</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ping 192.168.2.29</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize SPI Flash</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sf probe</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Download and Update SPL binary</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> tftpboot 0xa0000000 <span class="va">${serverip}</span>:u-boot-spl.bin.normal.out</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sf update 0xa0000000 0x0 <span class="va">$filesize</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Download and Update U-Boot binary</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> tftpboot 0xa0000000 <span class="va">${serverip}</span>:visionfive2_fw_payload.img</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sf update 0xa0000000 0x100000 <span class="va">$filesize</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># We will not need to reset to default now!</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Save your changes</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> env save</span></code></pre></div>
<p>The output will be something like this:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># setenv ipaddr 192.168.2.222; setenv serverip 192.168.2.29</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># ping 192.168.2.29</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Using</span> ethernet@16040000 device</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="ex">host</span> 192.168.2.29 is alive</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># sf probe</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="ex">SF:</span> Detected gd25lq128 with page size 256 Bytes, erase size 4 KiB, total 16 MiB</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># tftpboot 0xa0000000 ${serverip}:u-boot-spl.bin.normal.out</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Using</span> ethernet@16040000 device</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="ex">TFTP</span> from server 192.168.2.29<span class="kw">;</span> <span class="ex">our</span> IP address is 192.168.2.222</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Filename</span> <span class="st">&#39;u-boot-spl.bin.normal.out&#39;</span>.</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Load</span> address: 0xa0000000</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading:</span> <span class="co">###########</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>         <span class="ex">960</span> KiB/s</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Bytes</span> transferred = 148440 <span class="er">(</span><span class="ex">243d8</span> hex<span class="kw">)</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># sf update 0xa0000000 0x0 $filesize</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="ex">device</span> 0 offset 0x0, size 0x243d8</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="ex">148440</span> bytes written, 0 bytes skipped in 1.202s, speed 126143 B/s</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># sf update 0xa0000000 0x0 $filesize</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="ex">device</span> 0 offset 0x0, size 0x243d8</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="ex">148440</span> bytes written, 0 bytes skipped in 1.202s, speed 126143 B/s</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># sf update 0xa0000000 0x0 $filesize</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="ex">device</span> 0 offset 0x0, size 0x243d8</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span> bytes written, 148440 bytes skipped in 0.26s, speed 5241467 B/s</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># tftpboot 0xa0000000 ${serverip}:visionfive2_fw_payload.img</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="ex">Using</span> ethernet@16040000 device</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="ex">TFTP</span> from server 192.168.2.29<span class="kw">;</span> <span class="ex">our</span> IP address is 192.168.2.222</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="ex">Filename</span> <span class="st">&#39;visionfive2_fw_payload.img&#39;</span>.</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="ex">Load</span> address: 0xa0000000</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading:</span> <span class="co">#################################################################</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>         <span class="co">#################################################################</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>         <span class="co">#################################################################</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>         <span class="co">###########</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>         <span class="ex">1</span> MiB/s</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="ex">Bytes</span> transferred = 3015045 <span class="er">(</span><span class="ex">2e0185</span> hex<span class="kw">)</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># sf update 0xa0000000 0x100000 $filesize</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="ex">device</span> 0 offset 0x100000, size 0x2e0185</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="ex">1970176</span> bytes written, 1044869 bytes skipped in 16.433s, speed 187844 B/s</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> <span class="co"># env save</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a><span class="ex">Saving</span> Environment to SPIFlash... Erasing SPI flash...Writing to SPI flash...done</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a><span class="ex">OK</span></span></code></pre></div>
<p>Done!</p>
<p>You can now hit Ctrl+C on your docker terminal and start your
firewall again</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo systemctl start firewalld.service</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[sudo]</span> password for opvolger:</span></code></pre></div>
<p>You can turn off the VisionFive 2 again</p>
<h3 id="images-from-opensuse-tumbleweed">Images from OpenSUSE
Tumbleweed</h3>
<p>Download the images from the OpenSUSE Tumbleweed <a
target="_blank" href="https://en.opensuse.org/HCL:VisionFive2">site</a>.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wget https://download.opensuse.org/repositories/devel:/RISCV:/Factory:/Contrib:/StarFive:/VisionFive2/images/openSUSE-Tumbleweed-RISC-V-JeOS-starfivevisionfive2.riscv64-2024.01.16-Build23.43.raw.xz</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">--2024-02-10</span> 13:47:06--  https://download.opensuse.org/repositories/devel:/RISCV:/Factory:/Contrib:/StarFive:/VisionFive2/images/openSUSE-Tumbleweed-RISC-V-JeOS-starfivevisionfive2.riscv64-2024.01.16-Build23.43.raw.xz</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="ex">2024-02-10</span> 13:48:08 <span class="er">(</span><span class="ex">14,3</span> MB/s<span class="kw">)</span> <span class="ex">-</span> ‘openSUSE-Tumbleweed-RISC-V-JeOS-starfivevisionfive2.riscv64-2024.01.16-Build23.43.raw.xz’ saved <span class="pp">[</span><span class="ss">928465828/928465828</span><span class="pp">]</span></span></code></pre></div>
<p>Now flash it to a SD-card. I use balenaEtcher for it. (on my machine
it was /dev/sdb)</p>
<h3 id="compile-the-6.1.31-kernel">Compile the 6.1.31+ kernel</h3>
<p>I have installed Fedora linux and had to install some stuff to be
able to cross compile</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo dnf group install <span class="st">&quot;Development Tools&quot;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo dnf install git gcc-plugin-devel libmpc-devel gcc-c++ gcc-c++-riscv64-linux-gnu ncurses-devel libmpc-devel nano</span></code></pre></div>
<p>We need to checkout the kernel of StarFive and make some changes</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we need the firmware for AMD / ATI cards, we do not need history so depth 1</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git clone <span class="at">--depth</span> 1 git://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git linux-firmware</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Cloning</span> into <span class="st">&#39;linux-firmware&#39;</span>...</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Enumerating objects: 3389, done.</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Counting objects: 100% <span class="er">(</span><span class="ex">3389/3389</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Compressing objects: 100% <span class="er">(</span><span class="ex">2461/2461</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Total 3389 <span class="er">(</span><span class="ex">delta</span> 1233<span class="kw">)</span><span class="ex">,</span> reused 2471 <span class="er">(</span><span class="ex">delta</span> 832<span class="kw">)</span><span class="ex">,</span> pack-reused 0</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Receiving</span> objects: 100% <span class="er">(</span><span class="ex">3389/3389</span><span class="kw">)</span><span class="ex">,</span> 435.72 MiB <span class="kw">|</span> <span class="ex">13.27</span> MiB/s, done.</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> deltas: 100% <span class="er">(</span><span class="ex">1233/1233</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Updating</span> files: 100% <span class="er">(</span><span class="ex">3554/3554</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co"># We need the kernel of StarFive, we do not need history so depth 1</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="ex">opvolger@desktop:~/OpenSUSETumbleweed$</span> git clone <span class="at">--branch</span> VF2_6.1_v3.8.2 <span class="at">--depth</span> 1 https://github.com/starfive-tech/linux.git</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Cloning</span> into <span class="st">&#39;linux&#39;</span>...</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Enumerating objects: 84693, done.</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Counting objects: 100% <span class="er">(</span><span class="ex">84693/84693</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Compressing objects: 100% <span class="er">(</span><span class="ex">78851/78851</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Total 84693 <span class="er">(</span><span class="ex">delta</span> 8228<span class="kw">)</span><span class="ex">,</span> reused 22621 <span class="er">(</span><span class="ex">delta</span> 4958<span class="kw">)</span><span class="ex">,</span> pack-reused 0</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="ex">Receiving</span> objects: 100% <span class="er">(</span><span class="ex">84693/84693</span><span class="kw">)</span><span class="ex">,</span> 233.16 MiB <span class="kw">|</span> <span class="ex">7.86</span> MiB/s, done.</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> deltas: 100% <span class="er">(</span><span class="ex">8228/8228</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="ex">Note:</span> switching to <span class="st">&#39;22e0315434b13cdde93ded101b567d5d1c4d5a2e&#39;</span>.</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="ex">You</span> are in <span class="st">&#39;detached HEAD&#39;</span> state. You can look around, make experimental</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="ex">changes</span> and commit them, and you can discard any commits you make in this</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="ex">state</span> without impacting any branches by switching back to a branch.</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a><span class="ex">If</span> you want to create a new branch to retain commits you create, you may</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="cf">do</span> <span class="ex">so</span> <span class="er">(</span><span class="ex">now</span> or later<span class="kw">)</span> <span class="ex">by</span> using <span class="at">-c</span> with the switch command. Example:</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">git</span> switch <span class="at">-c</span> <span class="op">&lt;</span>new-branch-name<span class="op">&gt;</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="ex">Or</span> undo this operation with:</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">git</span> switch <span class="at">-</span></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="ex">Turn</span> off this advice by setting config variable advice.detachedHead to false</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a><span class="ex">Updating</span> files: 100% <span class="er">(</span><span class="ex">79971/79971</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="co">#Go to the kernel dir</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd linux</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="co"># create a &quot;default&quot; .config for the kernel compilation</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> make ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- starfive_jh7110_defconfig</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/basic/fixdep</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/conf.o</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/confdata.o</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/expr.o</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>  <span class="ex">LEX</span>     scripts/kconfig/lexer.lex.c</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>  <span class="ex">YACC</span>    scripts/kconfig/parser.tab.<span class="pp">[</span><span class="ss">ch</span><span class="pp">]</span></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/lexer.lex.o</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/menu.o</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/parser.tab.o</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/preprocess.o</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/symbol.o</span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/util.o</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTLD</span>  scripts/kconfig/conf</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a><span class="co"># configuration written to .config</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a><span class="co"># open the menu</span></span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> make CROSS_COMPILE=riscv64-linux-gnu- ARCH=riscv menuconfig</span></code></pre></div>
<p>Now we have to add the ATI video-card and HDMI-audio.</p>
<pre><code>Device Drivers ---&gt; [HIT ENTER]
  Generic Driver Options ---&gt; [HIT ENTER]
    Firmware loader ---&gt; [HIT ENTER]
      () Build named firmware blobs into the kernel binary [HIT ENTER]
      (/lib/firmware) Firmware blobs root directory [change it to ../linux-firmware]</code></pre>
<p>enter this in the line:</p>
<p>(radeon bins for ATI Radeon 5450, amdgpu/radeon bin files of AMD/ATI
Hawaii PRO [Radeon R9 290/390] (has 2 drivers amd and ATI) and
rt2870.bin for my wifi dongel)</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">radeon/CYPRESS_uvd.bin radeon/CEDAR_smc.bin radeon/CEDAR_me.bin radeon/CEDAR_pfp.bin radeon/CEDAR_rlc.bin amdgpu/hawaii_k_smc.bin amdgpu/hawaii_smc.bin amdgpu/hawaii_uvd.bin amdgpu/hawaii_vce.bin amdgpu/hawaii_sdma.bin amdgpu/hawaii_sdma1.bin amdgpu/hawaii_pfp.bin amdgpu/hawaii_me.bin amdgpu/hawaii_ce.bin amdgpu/hawaii_rlc.bin amdgpu/hawaii_mec.bin amdgpu/hawaii_mc.bin radeon/hawaii_pfp.bin radeon/hawaii_me.bin radeon/hawaii_ce.bin radeon/hawaii_mec.bin radeon/hawaii_mc.bin radeon/hawaii_rlc.bin radeon/hawaii_sdma.bin radeon/hawaii_smc.bin radeon/hawaii_k_smc.bin radeon/HAWAII_pfp.bin radeon/HAWAII_me.bin radeon/HAWAII_ce.bin radeon/HAWAII_mec.bin radeon/HAWAII_mc.bin radeon/HAWAII_mc2.bin radeon/HAWAII_rlc.bin radeon/HAWAII_sdma.bin radeon/HAWAII_smc.bin rt2870.bin</span></span></code></pre></div>
<p>Select Exit,Exit</p>
<p>We need some stuff for snapd:</p>
<pre><code>Device Drivers -&gt; 
    Block devices -&gt; [HIT ENTER]
      &lt;*&gt; RAM block device support [HIT SPACE 2x]</code></pre>
<p>Select Exit</p>
<p>I have a RaLink Wifi dongle</p>
<pre><code>Device Drivers -&gt; 
    Network device support ---&gt; [HIT ENTER]
      Wireless LAN ---&gt; [HIT ENTER]
        &lt;*&gt; Ralink driver support ---- [HIT SPACE 2x][HIT ENTER]
          &lt;*&gt; Ralink rt27xx/rt28xx/rt30xx (USB) [HIT SPACE 2x]
          [*] rt2800usb - Incl..... 6x [HIT SPACE 1x on 4 rows]</code></pre>
<p>Select Exit,Exit,Exit</p>
<pre><code>Device Drivers ---&gt;
  Graphics support ---&gt; [HIT ENTER]
    &lt;*&gt; ATI GPU [HIT SPACE]
    &lt;*&gt; AMD GPU [HIT SPACE 2x]
    [*] Enable amdgpu support for SI parts [HIT SPACE]
    [*] Enable amdgpu support for CIK parts [HIT SPACE]
    ACP (Audio CoProcessor) Configuration ---&gt; [HIT ENTER]
      [*] Enable AMD Audio CoProcessor IP support [HIT SPACE]</code></pre>
<p>Select Exit,Exit</p>
<pre><code>Device Drivers ---&gt;
  Sound card support ---&gt; [HIT ENTER]
    Advanced Linux Sound Architecture ---&gt; [HIT ENTER]
      HD-Audio ---&gt; [HIT ENTER]
        &lt;*&gt; HD Audio PCI [HIT SPACE 2x]
        &lt;*&gt; Build HDMI/DisplayPort HD-audio codec support [HIT SPACE 2x]</code></pre>
<p>Select Exit,Exit,Exit,Exit</p>
<p>We need more some stuff for snapd:</p>
<pre><code>File systems  -&gt; [HIT ENTER]
  Miscellaneous filesystems -&gt; [HIT ENTER]
    &lt;*&gt; SquashFS 4.0 - Squased file system support [HIT SPACE 2x]
    [*] Squashfs XATTR support [HIT SPACE]
    [*] Include support for ZLIB compressed file systems
    [*] Include support for LZ4 compressed file systems [HIT SPACE]
    [*] Include support for LZO compressed file systems [HIT SPACE]
    [*] Include support for XZ compressed file systems [HIT SPACE]
    [*] Include support for ZSTD compressed file systems [HIT SPACE]</code></pre>
<p>Select Exit,Exit</p>
<p>We need CONFIG_SECCOMP and CONFIG_SECCOMP_FILTER for the
<code>epiphany</code> browser</p>
<pre><code>General architecture-dependent options  ---&gt; [HIT ENTER]
  [*] Enable seccomp to safely execute untrusted bytecode -&gt; [HIT SPACE]</code></pre>
<p>Select Exit,Exit</p>
<p>Yes You wish to save your new configuration!</p>
<p>If you use GCC 13 and up, you need to patch the kernel code see <a
target="_blank" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e6a71160cc145e18ab45195abf89884112e02dfb">this</a>
patch.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download the patch</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wget <span class="at">-O</span> gcc13.patch https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/<span class="pp">?</span>id=e6a71160cc145e18ab45195abf89884112e02dfb</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">--2024-02-10</span> 14:59:30--  https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/<span class="pp">?</span>id=e6a71160cc145e18ab45195abf89884112e02dfb</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> git.kernel.org <span class="er">(</span><span class="ex">git.kernel.org</span><span class="kw">)</span><span class="ex">...</span> 2604:1380:4601:e00::1, 145.40.68.75</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Connecting</span> to git.kernel.org <span class="er">(</span><span class="ex">git.kernel.org</span><span class="kw">)|</span><span class="ex">2604:1380:4601:e00::1</span><span class="kw">|</span><span class="ex">:443...</span> connected.</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="ex">HTTP</span> request sent, awaiting response... 200 OK</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Length:</span> unspecified <span class="pp">[</span><span class="ss">text/plain</span><span class="pp">]</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Saving</span> to: ‘gcc13.patch’</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="ex">gcc13.patch</span>                                         [ <span class="op">&lt;</span>=<span class="op">&gt;</span>                                                                                                 ]   1,39K  <span class="at">--.-KB</span>/s    in 0s      </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="ex">2024-02-10</span> 14:59:30 <span class="er">(</span><span class="ex">46,7</span> MB/s<span class="kw">)</span> <span class="ex">-</span> ‘gcc13.patch’ saved <span class="pp">[</span><span class="ss">1419</span><span class="pp">]</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co"># apply the patch</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git apply gcc13.patch</span></code></pre></div>
<p>Compile the kernel, config is now ready! I added -j 16 (i have 16
thread on my machine!)</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># build kernel</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> make ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- <span class="at">-j</span> 16</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">SYNC</span>    include/config/auto.conf</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">WRAP</span>    arch/riscv/include/generated/uapi/asm/errno.h</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">WRAP</span>    arch/riscv/include/generated/uapi/asm/fcntl.h</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">WRAP</span>    arch/riscv/include/generated/uapi/asm/ioctl.h</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">WRAP</span>    arch/riscv/include/generated/uapi/asm/ioctls.h</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">WRAP</span>    arch/riscv/include/generated/uapi/asm/ipcbuf.h</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">WRAP</span>    arch/riscv/include/generated/uapi/asm/mman.h</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># takes a long time!!!</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">NM</span>      .tmp_vmlinux.kallsyms2.syms</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">KSYMS</span>   .tmp_vmlinux.kallsyms2.S</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">AS</span>      .tmp_vmlinux.kallsyms2.S</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">LD</span>      vmlinux</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">NM</span>      System.map</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">SORTTAB</span> vmlinux</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">OBJCOPY</span> arch/riscv/boot/Image</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="ex">GZIP</span>    arch/riscv/boot/Image.gz</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Kernel:</span> arch/riscv/boot/Image.gz is ready</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="co"># build kernel modules</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> make ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- modules <span class="at">-j</span> 16 </span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CALL</span>    scripts/checksyscalls.sh</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="co"># install modules to dir</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir ~/OpenSUSETumbleweed/modules</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> make ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- INSTALL_MOD_PATH=~/OpenSUSETumbleweed/modules modules_install <span class="at">-j</span> 16 </span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/arch/riscv/kvm/kvm.ko</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/crypto/authenc.ko</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/crypto/authencesn.ko</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/crypto/blake2b_generic.ko</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/crypto/cbc.ko</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/crypto/echainiv.ko</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/crypto/seqiv.ko</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/crypto/xor.ko</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/crypto/xxhash_generic.ko</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/drivers/clk/starfive/clk-starfive-jh7100-audio.ko</span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/drivers/gpu/drm/drm_shmem_helper.ko</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/drivers/gpu/drm/virtio/virtio-gpu.ko</span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/net/netfilter/xt_nat.ko</span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/net/sched/cls_cgroup.ko</span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/net/xfrm/xfrm_algo.ko</span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/net/xfrm/xfrm_user.ko</span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>  <span class="ex">INSTALL</span> /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+/kernel/net/netfilter/xt_tcpudp.ko</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a>  <span class="ex">DEPMOD</span>  /home/opvolger/OpenSUSETumbleweed/modules/lib/modules/6.1.31+</span></code></pre></div>
<p>The kernel is Done!</p>
<h3 id="efi-boot-from-ubuntu-cd-boot-images-riscv64_10_all.deb">EFI-boot
from Ubuntu (cd-boot-images-riscv64_10_all.deb)</h3>
<p>The boot chain of OpenSUSE Tumbleweed (OpenSBI - U-Boot - EFI) would
not work with my kernel (6.1.31+). That’s why I chose NOT to boot from
SD card and use StarFive VisionFive 2’s OpenSBI and U-Boot.
Unfortunately, OpenSUSE’s efi boot did not work with this. That’s why I
use the efi-boot from Ubuntu (it worked with my 6.1.31+ kernel).</p>
<p>Download <a
href="http://mirrors.kernel.org/ubuntu/pool/main/c/cd-boot-images-riscv64/cd-boot-images-riscv64_10_all.deb">cd-boot-images-riscv64_10_all.deb</a></p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wget http://mirrors.kernel.org/ubuntu/pool/main/c/cd-boot-images-riscv64/cd-boot-images-riscv64_10_all.deb</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># I am running Fedora and needed to install dpkg</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo yum install dpkg</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># unpack the file</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> dpkg-deb <span class="at">-x</span> cd-boot-images-riscv64_10_all.deb cd-boot-images-riscv64_10_all</span></code></pre></div>
<h2 id="copychange-files-to-sd-card">Copy/Change files to SD-card</h2>
<p>On my computer i flashed the OpenSUSE Tumbleweed to /dev/sdb</p>
<h3 id="efi-partition">EFI-partition</h3>
<p>We need to copy bootriscv64.efi to the EFI-partition</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd ~/OpenSUSETumbleweed</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> sd/efi</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># EFI partition is the first partition</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo mount /dev/sdb1 ~/OpenSUSETumbleweed/sd/efi</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># We will now replace the efi boot from OpenSUSE Tumbleweed with the Ubuntu version</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo cp cd-boot-images-riscv64_10_all/usr/share/cd-boot-images-riscv64/tree/EFI/boot/bootriscv64.efi sd/efi/EFI/BOOT/bootriscv64.efi</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># unmount again</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo umount ~/OpenSUSETumbleweed/sd/efi</span></code></pre></div>
<h3 id="root-partition">ROOT-partition</h3>
<p>We need to copy the kernel files</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd ~/OpenSUSETumbleweed</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> sd/root</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ROOT partition is the 3e partition</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo mount /dev/sdb3 ~/OpenSUSETumbleweed/sd/root</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># copy kernel files</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo cp linux/arch/riscv/boot/dts/starfive/jh7110-visionfive-v2.dtb ~/OpenSUSETumbleweed/sd/root/boot/dtb-6.1.31+</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo cp linux/arch/riscv/boot/Image ~/OpenSUSETumbleweed/sd/root/boot/Image-6.1.31+</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo cp linux/System.map ~/OpenSUSETumbleweed/sd/root/boot/System.map-6.1.31+</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo cp modules/lib/modules/6.1.31+ ~/OpenSUSETumbleweed/sd/root/usr/lib/modules <span class="at">-R</span></span></code></pre></div>
<h4 id="edit-grub2.cfg">Edit grub2.cfg</h4>
<p>We need to edit the current grub2.cfg so we can boot the created
kernel.</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano ~/OpenSUSETumbleweed/sd/root/boot/grub2/grub.cfg</span></code></pre></div>
<p>Scroll until tou see:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">### </span><span class="re">BEGIN</span><span class="co"> /etc/grub.d/10_linux </span><span class="al">###</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="dt">menuentry &#39;openSUSE Tumbleweed&#39;  --class opensuse --class gnu-linux --class gnu --class os $menuentry_id_option &#39;gnulinux-simple-c0fea55f-b955-491e-82fb-eef04b20619d&#39; {</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="dt">        load_video</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="dt">        set gfxpayload</span><span class="ot">=</span><span class="st">keep</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="dt">        insmod gzio</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="dt">        insmod part_gpt</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="dt">        insmod ext2</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="dt">        search --no-floppy --fs-uuid --set</span><span class="ot">=</span><span class="st">root c0fea55f-b955-491e-82fb-eef04b20619d</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="dt">        echo    &#39;Loading Linux 6.8.0-rc3-83-default ...&#39;</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="dt">        linux   /boot/Image-6.8.0-rc3-83-default root</span><span class="ot">=</span><span class="st">UUID=c0fea55f-b955-491e-82fb-eef04b20619d  loglevel=3 splash=silent systemd.show_status=1 console=ttyS0,115200n8</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="dt">        echo    &#39;Loading initial ramdisk ...&#39;</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="dt">        initrd  /boot/initrd-6.8.0-rc3-83-default</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="dt">}</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="dt">submenu &#39;Advanced options for openSUSE Tumbleweed&#39; --hotkey</span><span class="ot">=</span><span class="st">1 $menuentry_id_option &#39;gnulinux-advanced-c0fea55f-b955-491e-82fb-eef04b20619d&#39; {</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="dt">        menuentry &#39;openSUSE Tumbleweed, with Linux 6.8.0-rc3-83-default&#39; --hotkey</span><span class="ot">=</span><span class="st">2 --class opensuse --class gnu-linux --class gnu --class os $menuentry_id_option &#39;gnulinux-6.8.0-rc3-83-default-advanced-c0fea55f&gt;</span></span></code></pre></div>
<p>Change it to: (I deleted the search line changes the linux line and
replaced the initrd for devicetree)</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">### </span><span class="re">BEGIN</span><span class="co"> /etc/grub.d/10_linux </span><span class="al">###</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="dt">menuentry &#39;openSUSE Tumbleweed&#39;  --class opensuse --class gnu-linux --class gnu --class os $menuentry_id_option &#39;gnulinux-simple-c0fea55f-b955-491e-82fb-eef04b20619d&#39; {</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="dt">        load_video</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="dt">        set gfxpayload</span><span class="ot">=</span><span class="st">keep</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="dt">        insmod gzio</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="dt">        insmod part_gpt</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="dt">        insmod ext2</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="dt">        echo    &#39;Loading Linux 6.1.31+ ...&#39;</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="dt">        linux   /boot/Image-6.1.31+ root</span><span class="ot">=</span><span class="st">/dev/mmcblk1p3  ro  efi=debug earlycon console=ttyS0,115200n8</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="dt">        echo    &#39;Loading devicetree 6.1.31+&#39;</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="dt">        devicetree      /boot/dtb-6.1.31+</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="dt">}</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="dt">submenu &#39;Advanced options for openSUSE Tumbleweed&#39; --hotkey</span><span class="ot">=</span><span class="st">1 $menuentry_id_option &#39;gnulinux-advanced-c0fea55f-b955-491e-82fb-eef04b20619d&#39; {</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="dt">        menuentry &#39;openSUSE Tumbleweed, with Linux 6.8.0-rc3-83-default&#39; --hotkey</span><span class="ot">=</span><span class="st">2 --class opensuse --class gnu-linux --class gnu --class os $menuentry_id_option &#39;gnulinux-6.8.0-rc3-83-default-advanced-c0fea55f&gt;</span></span></code></pre></div>
<p>Save and Exit</p>
<h4 id="edit-fstab">Edit fstab</h4>
<p>Updates of the efi-boot must not be written on the efi-partition</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano ~/OpenSUSETumbleweed/sd/root/etc/fstab</span></code></pre></div>
<p>from:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="dt">UUID</span><span class="ot">=</span><span class="st">9a7b06a0-0385-44c1-8487-8881b55420ab swap swap defaults 0 0</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="dt">UUID</span><span class="ot">=</span><span class="st">c0fea55f-b955-491e-82fb-eef04b20619d / ext4 noatime,nobarrier 0 1</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="dt">UUID</span><span class="ot">=</span><span class="st">9035-7EB0 /boot/efi vfat defaults 0 0</span></span></code></pre></div>
<p>to:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="dt">UUID</span><span class="ot">=</span><span class="st">9a7b06a0-0385-44c1-8487-8881b55420ab swap swap defaults 0 0</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="dt">UUID</span><span class="ot">=</span><span class="st">c0fea55f-b955-491e-82fb-eef04b20619d / ext4 noatime,nobarrier 0 1</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co">#UUID=9035-7EB0 /boot/efi vfat defaults 0 0</span></span></code></pre></div>
<h4 id="add-item-in-grub2-40_custom">Add item in grub2 40_custom</h4>
<p>We need to add a grub option, so as we rebuild grub (get a new
grub2.cfg) we still can boot the custom kernel.</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano ~/OpenSUSETumbleweed/sd/root/etc/grub.d/40_custom</span></code></pre></div>
<div class="sourceCode" id="cb31"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="dt">exec tail -n +3 $0</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># This file provides an easy way to add custom menu entries.  Simply type the</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># menu entries you want to add after this comment.  Be careful not to change</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># the &#39;exec tail&#39; line above.</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="dt">menuentry &#39;openSUSE Tumbleweed, with Linux 6.1.31+&#39; {</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="dt">                load_video</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="dt">                set gfxpayload</span><span class="ot">=</span><span class="st">keep</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="dt">                insmod gzio</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="dt">                insmod part_gpt</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="dt">                insmod ext2</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="dt">                echo    &#39;Loading Linux 6.1.31+&#39;</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="dt">                linux   /boot/Image-6.1.31+ root</span><span class="ot">=</span><span class="st">/dev/mmcblk1p3  ro  efi=debug earlycon console=ttyS0,115200n8</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="dt">                echo    &#39;Loading devicetree 6.1.31+&#39;</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="dt">                devicetree      /boot/dtb-6.1.31+</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="dt">}</span></span></code></pre></div>
<h3 id="set-default-grub-item-on-boot">Set default grub item on
boot</h3>
<p>De default boot option is item 0. We have added a new custom item we
want to boot in the future as default.</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/OpenSUSETumbleweed/sd/root/etc/default/grub</span></code></pre></div>
<p>from:</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="dt">GRUB_DEFAULT</span><span class="ot">=</span><span class="dv">0</span></span></code></pre></div>
<p>to</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="dt">GRUB_DEFAULT</span><span class="ot">=</span><span class="dv">3</span></span></code></pre></div>
<h2 id="umount">Umount</h2>
<div class="sourceCode" id="cb35"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># umount again</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo umount ~/OpenSUSETumbleweed/sd/root</span></code></pre></div>
<h2 id="gparted">GParted</h2>
<p>The root-partition will not be resized. So we have to do this. I use
GParted, yes it can be done command-line but this is easyer. <img
src="OpenSUSEATIRadeonR9_290/fix_blocks.png" alt="fix blocka" /> Hit
Fix! <img src="OpenSUSEATIRadeonR9_290/resize.png" alt="fix blocka" />
and apply the changes!</p>
<h2 id="boot-the-starfive-visionfive-2">Boot the StarFive VisionFive
2</h2>
<p>Insert the SD-card in the StarFive VisionFive 2 and boot it up.</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to openSUSE Tumbleweed 20240208 <span class="at">-</span> Kernel 6.1.31+ <span class="er">(</span><span class="ex">ttyS0</span><span class="kw">)</span><span class="bu">.</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="ex">end0:</span>  fe80::4b03:cfeb:7489:a749</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="ex">end1:</span>  </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="ex">wlp1s0u1u1:</span>  </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> login: [   20.805126] starfive-eth-plat 16040000.ethernet end1: Link is Up <span class="at">-</span> 1Gbps/Full <span class="at">-</span> flow control rx/tx</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span>   20.814211] IPv6: ADDRCONF<span class="er">(</span>NETDEV_CHANGE<span class="er">)</span>: <span class="er">end1:</span> <span class="fu">link</span> becomes ready</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to openSUSE Tumbleweed 20240208 <span class="at">-</span> Kernel 6.1.31+ <span class="er">(</span><span class="ex">ttyS0</span><span class="kw">)</span><span class="bu">.</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="ex">end0:</span>  fe80::4b03:cfeb:7489:a749</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="ex">end1:</span> 192.168.2.17 fe80::d24e:a2cc:d51b:b14b</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="ex">wlp1s0u1u1:</span>  </span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="ex">StarFive</span> login: </span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to openSUSE Tumbleweed 20240208 <span class="at">-</span> Kernel 6.1.31+ <span class="er">(</span><span class="ex">ttyS0</span><span class="kw">)</span><span class="bu">.</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a><span class="ex">end0:</span>  </span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="ex">end1:</span> 192.168.2.17 fe80::d24e:a2cc:d51b:b14b</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="ex">wlp1s0u1u1:</span>  </span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a><span class="ex">riscv</span> login: [   38.081393] mipi_0p9: disabling</span></code></pre></div>
<p>You can now log in with username root and password linux</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">riscv</span> login: root</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Password:</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Have</span> a lot of fun...</span></code></pre></div>
<p>Create user and fix boot</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a user</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> useradd opvolger</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># set password for user</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> passwd opvolger</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="ex">New</span> password: </span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Retype</span> new password: </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="ex">passwd:</span> password updated successfully</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co"># create a new grub.cfg</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> grub2-mkconfig <span class="at">-o</span> /boot/grub2/grub.cfg</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span>  219.384928] device-mapper: ioctl: <span class="er">4.47.0-ioctl</span> <span class="kw">(</span><span class="ex">2022-07-28</span><span class="kw">)</span> <span class="ex">initialised:</span> dm-devel@redhat.com</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Generating</span> grub configuration file ...</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Found</span> theme: /boot/grub2/themes/openSUSE/theme.txt</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Found</span> linux image: /boot/Image-6.8.0-rc3-83-default</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a><span class="ex">Found</span> initrd image: /boot/initrd-6.8.0-rc3-83-default</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a><span class="ex">Found</span> linux image: /boot/Image-6.1.31+</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a><span class="ex">Warning:</span> os-prober will not be executed to detect other bootable partitions.</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a><span class="ex">Systems</span> on them will not be added to the GRUB boot configuration.</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a><span class="ex">Check</span> GRUB_DISABLE_OS_PROBER documentation entry.</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a><span class="ex">Adding</span> boot menu entry for UEFI Firmware Settings ...</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span></code></pre></div>
<p>Fix Tumbleweed repo’s</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># disable updates repo (Tumbleweed has no updates)</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> zypper lr</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Repository</span> priorities are without effect. All enabled repositories share the same priority.</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co"># | Alias                                | Name  | Enabled | GPG Check | Refresh</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="ex">--+--------------------------------------+-------+---------+-----------+--------</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span> <span class="kw">|</span> <span class="ex">Factory-Contrib-StarFive:VisionFive2</span> <span class="kw">|</span> <span class="ex">Fac-</span><span class="op">&gt;</span> <span class="kw">|</span> <span class="ex">Yes</span>     <span class="kw">|</span> <span class="kw">(</span> <span class="ex">p</span><span class="kw">)</span> <span class="ex">Yes</span>  <span class="kw">|</span> <span class="ex">Yes</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span> <span class="kw">|</span> <span class="ex">repo-debug</span>                           <span class="kw">|</span> <span class="ex">ope-</span><span class="op">&gt;</span> <span class="kw">|</span> <span class="ex">No</span>      <span class="kw">|</span> <span class="ex">----</span>      <span class="kw">|</span> <span class="ex">----</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span> <span class="kw">|</span> <span class="ex">repo-openh264</span>                        <span class="kw">|</span> <span class="ex">Ope-</span><span class="op">&gt;</span> <span class="kw">|</span> <span class="ex">Yes</span>     <span class="kw">|</span> <span class="kw">(</span> <span class="ex">p</span><span class="kw">)</span> <span class="ex">Yes</span>  <span class="kw">|</span> <span class="ex">Yes</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span> <span class="kw">|</span> <span class="ex">repo-oss</span>                             <span class="kw">|</span> <span class="ex">ope-</span><span class="op">&gt;</span> <span class="kw">|</span> <span class="ex">Yes</span>     <span class="kw">|</span> <span class="kw">(</span> <span class="ex">p</span><span class="kw">)</span> <span class="ex">Yes</span>  <span class="kw">|</span> <span class="ex">Yes</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="ex">5</span> <span class="kw">|</span> <span class="ex">repo-source</span>                          <span class="kw">|</span> <span class="ex">ope-</span><span class="op">&gt;</span> <span class="kw">|</span> <span class="ex">No</span>      <span class="kw">|</span> <span class="ex">----</span>      <span class="kw">|</span> <span class="ex">----</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="ex">6</span> <span class="kw">|</span> <span class="ex">repo-update</span>                          <span class="kw">|</span> <span class="ex">ope-</span><span class="op">&gt;</span> <span class="kw">|</span> <span class="ex">Yes</span>     <span class="kw">|</span> <span class="kw">(</span> <span class="ex">p</span><span class="kw">)</span> <span class="ex">Yes</span>  <span class="kw">|</span> <span class="ex">Yes</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> zypper mr <span class="at">-d</span> 6</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Repository</span> <span class="st">&#39;repo-update&#39;</span> has been successfully disabled.</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a><span class="co"># update repo&#39;s</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> zypper update</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="ex">New</span> repository or package signing key received:</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Repository:</span>       Factory-Contrib-StarFive:VisionFive2</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Key</span> Fingerprint:  1CE6 63CF D3C2 3AA6 4CB0 9374 F824 F2D3 FEC6 4695</span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Key</span> Name:         devel:RISCV OBS Project <span class="op">&lt;</span>devel:RISCV@build.opensuse.org<span class="op">&gt;</span></span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Key</span> Algorithm:    RSA 2048</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Key</span> Created:      Thu Apr  7 08:44:18 2022</span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Key</span> Expires:      Sat Jun 15 08:44:18 2024</span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Rpm</span> Name:         gpg-pubkey-fec64695-624ea462</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Note:</span> Signing data enables the recipient to verify that no modifications</span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a>    <span class="ex">occurred</span> after the data were signed. Accepting data with no, wrong or</span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a>    <span class="ex">unknown</span> signature can lead to a corrupted system and in extreme cases even</span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>    <span class="ex">to</span> a system compromise.</span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Note:</span> A GPG pubkey is clearly identified by its fingerprint. Do not rely on</span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a>    <span class="ex">the</span> key<span class="st">&#39;s name. If you are not sure whether the presented key is authentic,</span></span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a><span class="st">    ask the repository provider or check their web site. Many providers maintain</span></span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a><span class="st">    a web page showing the fingerprints of the GPG keys they are using.</span></span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a><span class="st">Do you want to reject the key, trust temporarily, or trust always? [r/t/a/?] (r): a</span></span>
<span id="cb39-41"><a href="#cb39-41" aria-hidden="true" tabindex="-1"></a><span class="st">Retrieving repository &#39;</span>Factory-Contrib-StarFive:VisionFive2<span class="st">&#39; metadata ....[done]</span></span>
<span id="cb39-42"><a href="#cb39-42" aria-hidden="true" tabindex="-1"></a><span class="st">Building repository &#39;</span>Factory-Contrib-StarFive:VisionFive2<span class="st">&#39; cache .........[done]</span></span>
<span id="cb39-43"><a href="#cb39-43" aria-hidden="true" tabindex="-1"></a><span class="st">Retrieving repository &#39;</span>Open H.264 Codec <span class="er">(</span><span class="ex">openSUSE</span> Tumbleweed<span class="kw">)</span><span class="st">&#39; metadata ..[done]</span></span>
<span id="cb39-44"><a href="#cb39-44" aria-hidden="true" tabindex="-1"></a><span class="st">Building repository &#39;</span><span class="ex">Open</span> H.264 Codec <span class="er">(</span><span class="ex">openSUSE</span> Tumbleweed<span class="kw">)</span><span class="st">&#39; cache .......[done]</span></span>
<span id="cb39-45"><a href="#cb39-45" aria-hidden="true" tabindex="-1"></a><span class="st">Retrieving repository &#39;</span><span class="ex">openSUSE-Tumbleweed-Oss</span><span class="st">&#39; metadata .................[done]</span></span>
<span id="cb39-46"><a href="#cb39-46" aria-hidden="true" tabindex="-1"></a><span class="st">Building repository &#39;</span><span class="ex">openSUSE-Tumbleweed-Oss</span><span class="st">&#39; cache ......................[done]</span></span>
<span id="cb39-47"><a href="#cb39-47" aria-hidden="true" tabindex="-1"></a><span class="st">Loading repository data...</span></span>
<span id="cb39-48"><a href="#cb39-48" aria-hidden="true" tabindex="-1"></a><span class="st">Reading installed packages...</span></span>
<span id="cb39-49"><a href="#cb39-49" aria-hidden="true" tabindex="-1"></a><span class="st">Nothing to do.</span></span></code></pre></div>
<p>Install stuff for KDE: browsers/codecs</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install some stuff</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># obi can install codecs</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co"># neofetch to show specs</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># chromium a browser</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co"># nano for editing</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> zypper install opi neofetch chromium nano</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> neofetch </span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>                                     <span class="ex">......</span>            root@riscv.home </span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>     <span class="bu">.</span>,cdxxxoc,.               .:kKMMMNWMMMNk:.        <span class="at">---------------</span> </span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>    <span class="ex">cKMMN0OOOKWMMXo.</span> A        <span class="kw">;</span><span class="ex">0MWk:</span><span class="st">&#39;      &#39;</span><span class="ex">:OMMk.</span>     OS: openSUSE Tumbleweed riscv64 </span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">;</span><span class="ex">WMK</span><span class="kw">;</span><span class="st">&#39;       &#39;</span><span class="ex">lKMMNM,</span>     :NMK<span class="st">&#39;             &#39;</span>OMW<span class="kw">;</span>    <span class="ex">Host:</span> StarFive VisionFive V2 </span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a> <span class="ex">cMW</span><span class="kw">;</span>             <span class="ex">WMMMN</span>   ,XMK<span class="st">&#39;                 oMM.   Kernel: 6.1.31+ </span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="st">.MMc             &#39;&#39;^*~l. xMN:                    KM0   Uptime: 8 mins </span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;</span>MM.                   .NMO                      oMM   Packages: 774 <span class="er">(</span><span class="ex">rpm</span><span class="kw">)</span> </span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="ex">.MM,</span>                 .kMMl                       xMN   Shell: bash 5.2.26 </span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a> <span class="ex">KM0</span>               .kMM0<span class="st">&#39; .dl&gt;~,.               .WMd   Resolution: 1920x1080 </span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="st"> &#39;</span>XM0.           ,OMMK<span class="st">&#39;    OMMM7&#39;</span>              .XMK    Terminal: /dev/ttyS0 </span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>   <span class="ex">*WMO:.</span>    .<span class="kw">;</span><span class="ex">xNMMk</span><span class="st">&#39;       NNNMKl.          .xWMx     CPU: (4) @ 1.500GHz </span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="st">     ^ONMMNXMMMKx;          V  &#39;</span><span class="ex">xNMWKkxllox0NMWk</span><span class="st">&#39;      GPU: AMD ATI Radeon R9 290/390 </span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="st">         &#39;&#39;&#39;&#39;&#39;</span>                    <span class="st">&#39;:dOOXXKOxl&#39;</span>         Memory: 110MiB / 7868MiB </span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a><span class="co"># install opi codecs (will give some errors, not everyting is there for riscv)</span></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> opi codecs</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a><span class="ex">Do</span> you want to install codecs from Packman repository<span class="pp">?</span> <span class="er">(</span><span class="ex">Y/n</span><span class="kw">)</span> <span class="ex">y</span></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a><span class="ex">Adding</span> packman repo</span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a><span class="ex">1.</span> ftp.fau.de                 <span class="at">-</span> University of Erlangen, Germany  <span class="at">-</span>  1h sync</span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a><span class="ex">2.</span> ftp.halifax.rwth-aachen.de <span class="at">-</span> University of Aachen, Germany    <span class="at">-</span>  1h sync</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a><span class="ex">3.</span> ftp.gwdg.de                <span class="at">-</span> University of Göttingen, Germany <span class="at">-</span>  4h sync</span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a><span class="ex">4.</span> mirror.karneval.cz         <span class="at">-</span> TES Media, Czech Republic        <span class="at">-</span>  1h sync</span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a><span class="ex">5.</span> mirrors.aliyun.com         <span class="at">-</span> Alibaba Cloud, China             <span class="at">-</span> 24h sync</span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a><span class="ex">Pick</span> a mirror near your location <span class="er">(</span><span class="ex">0</span> to quit<span class="kw">)</span><span class="bu">:</span> 1</span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a><span class="ex">Import</span> package signing key <span class="st">&#39;PackMan Project (signing key) &lt;packman@links2linux.de&gt;&#39;</span> <span class="er">(</span><span class="ex">Y/n</span><span class="kw">)</span> <span class="ex">Y</span></span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a><span class="ex">Repository</span> <span class="st">&#39;Factory-Contrib-StarFive:VisionFive2&#39;</span> is up to date.                </span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a><span class="ex">Retrieving</span> repository <span class="st">&#39;Packman&#39;</span> metadata .................................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a><span class="ex">Building</span> repository <span class="st">&#39;Packman&#39;</span> cache ......................................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a><span class="ex">Repository</span> <span class="st">&#39;Open H.264 Codec (openSUSE Tumbleweed)&#39;</span> is up to date.              </span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a><span class="ex">Repository</span> <span class="st">&#39;openSUSE-Tumbleweed-Oss&#39;</span> is up to date.                             </span>
<span id="cb40-40"><a href="#cb40-40" aria-hidden="true" tabindex="-1"></a><span class="ex">All</span> repositories have been refreshed.</span>
<span id="cb40-41"><a href="#cb40-41" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading</span> repository data...</span>
<span id="cb40-42"><a href="#cb40-42" aria-hidden="true" tabindex="-1"></a><span class="ex">Reading</span> installed packages...</span>
<span id="cb40-43"><a href="#cb40-43" aria-hidden="true" tabindex="-1"></a><span class="ex">Computing</span> distribution upgrade...</span>
<span id="cb40-44"><a href="#cb40-44" aria-hidden="true" tabindex="-1"></a><span class="ex">Nothing</span> to do.</span>
<span id="cb40-45"><a href="#cb40-45" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading</span> repository data...</span>
<span id="cb40-46"><a href="#cb40-46" aria-hidden="true" tabindex="-1"></a><span class="ex">Reading</span> installed packages...</span>
<span id="cb40-47"><a href="#cb40-47" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;ffmpeg&gt;=5&#39;</span> not found in package names. Trying capabilities.</span>
<span id="cb40-48"><a href="#cb40-48" aria-hidden="true" tabindex="-1"></a><span class="ex">Package</span> <span class="st">&#39;gstreamer-plugins-bad-codecs&#39;</span> not found in specified repositories.</span>
<span id="cb40-49"><a href="#cb40-49" aria-hidden="true" tabindex="-1"></a><span class="ex">Package</span> <span class="st">&#39;gstreamer-plugins-ugly-codecs&#39;</span> not found in specified repositories.</span>
<span id="cb40-50"><a href="#cb40-50" aria-hidden="true" tabindex="-1"></a><span class="ex">Package</span> <span class="st">&#39;pipewire-aptx&#39;</span> not found in specified repositories.</span>
<span id="cb40-51"><a href="#cb40-51" aria-hidden="true" tabindex="-1"></a><span class="ex">Package</span> <span class="st">&#39;vlc-codecs&#39;</span> not found in specified repositories.</span>
<span id="cb40-52"><a href="#cb40-52" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;ffmpeg&#39;</span> not found in package names. Trying capabilities.</span>
<span id="cb40-53"><a href="#cb40-53" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;libavcodec-full&#39;</span> not found in package names. Trying capabilities.</span>
<span id="cb40-54"><a href="#cb40-54" aria-hidden="true" tabindex="-1"></a><span class="ex">No</span> provider of <span class="st">&#39;libavcodec-full&#39;</span> found.</span>
<span id="cb40-55"><a href="#cb40-55" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;libfdk-aac2&#39;</span> not found in package names. Trying capabilities.</span>
<span id="cb40-56"><a href="#cb40-56" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;libfdk-aac2&#39;</span> is already installed.</span>
<span id="cb40-57"><a href="#cb40-57" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;gstreamer-plugins-libav&#39;</span> not found in package names. Trying capabilities.</span>
<span id="cb40-58"><a href="#cb40-58" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> package dependencies...</span>
<span id="cb40-59"><a href="#cb40-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-60"><a href="#cb40-60" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> following 42 NEW packages are going to be installed:</span>
<span id="cb40-61"><a href="#cb40-61" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ffmpeg-6</span> gstreamer gstreamer-plugins-base gstreamer-plugins-libav</span>
<span id="cb40-62"><a href="#cb40-62" aria-hidden="true" tabindex="-1"></a>  <span class="ex">libSDL2-2_0-0</span> libSPIRV-Tools-2023_6_rc1 libXv1 libass9 libavdevice60</span>
<span id="cb40-63"><a href="#cb40-63" aria-hidden="true" tabindex="-1"></a>  <span class="ex">libavfilter9</span> libbs2b0 libcdda_interface0 libcdda_paranoia0 libcdio19</span>
<span id="cb40-64"><a href="#cb40-64" aria-hidden="true" tabindex="-1"></a>  <span class="ex">libcdio_cdda2</span> libcdio_paranoia2 libdc1394-26 libdovi3 libfftw3-3 libglslang14</span>
<span id="cb40-65"><a href="#cb40-65" aria-hidden="true" tabindex="-1"></a>  <span class="ex">libgraphene-1_0-0</span> libgstallocators-1_0-0 libgstapp-1_0-0 libgstaudio-1_0-0</span>
<span id="cb40-66"><a href="#cb40-66" aria-hidden="true" tabindex="-1"></a>  <span class="ex">libgstgl-1_0-0</span> libgstpbutils-1_0-0 libgstreamer-1_0-0 libgstriff-1_0-0</span>
<span id="cb40-67"><a href="#cb40-67" aria-hidden="true" tabindex="-1"></a>  <span class="ex">libgsttag-1_0-0</span> libgstvideo-1_0-0 liborc-0_4-0 libplacebo338 libpostproc57</span>
<span id="cb40-68"><a href="#cb40-68" aria-hidden="true" tabindex="-1"></a>  <span class="ex">librubberband2</span> libshaderc_shared1 libswscale7 libvidstab1_1 libvisual-0_4-0</span>
<span id="cb40-69"><a href="#cb40-69" aria-hidden="true" tabindex="-1"></a>  <span class="ex">libvmaf3</span> libwayland-cursor0 libwayland-egl1 libzimg2</span>
<span id="cb40-70"><a href="#cb40-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-71"><a href="#cb40-71" aria-hidden="true" tabindex="-1"></a><span class="ex">42</span> new packages to install.</span>
<span id="cb40-72"><a href="#cb40-72" aria-hidden="true" tabindex="-1"></a><span class="ex">Overall</span> download size: 13.7 MiB. Already cached: 0 B. After the operation,</span>
<span id="cb40-73"><a href="#cb40-73" aria-hidden="true" tabindex="-1"></a><span class="ex">additional</span> 33.3 MiB will be used.</span>
<span id="cb40-74"><a href="#cb40-74" aria-hidden="true" tabindex="-1"></a><span class="ex">Continue?</span> [y/n/v/...<span class="pp">?</span> shows all options] <span class="er">(</span><span class="ex">y</span><span class="kw">)</span><span class="bu">:</span> y</span>
<span id="cb40-75"><a href="#cb40-75" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb40-76"><a href="#cb40-76" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb40-77"><a href="#cb40-77" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb40-78"><a href="#cb40-78" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb40-79"><a href="#cb40-79" aria-hidden="true" tabindex="-1"></a><span class="ex">161</span> new packages to install.</span>
<span id="cb40-80"><a href="#cb40-80" aria-hidden="true" tabindex="-1"></a><span class="ex">Overall</span> download size: 32.8 MiB. Already cached: 0 B. After the operation,</span>
<span id="cb40-81"><a href="#cb40-81" aria-hidden="true" tabindex="-1"></a><span class="ex">additional</span> 107.6 MiB will be used.</span>
<span id="cb40-82"><a href="#cb40-82" aria-hidden="true" tabindex="-1"></a><span class="ex">Continue?</span> [y/n/v/...<span class="pp">?</span> shows all options] <span class="er">(</span><span class="ex">y</span><span class="kw">)</span><span class="bu">:</span> y</span>
<span id="cb40-83"><a href="#cb40-83" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb40-84"><a href="#cb40-84" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb40-85"><a href="#cb40-85" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb40-86"><a href="#cb40-86" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb40-87"><a href="#cb40-87" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">160/161</span><span class="kw">)</span> <span class="ex">Installing:</span> gstreamer-plugins-bad-1.22.9-1.1.riscv64 ...........<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb40-88"><a href="#cb40-88" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">161/161</span><span class="kw">)</span> <span class="ex">Installing:</span> gstreamer-plugins-good-extra-1.22.9-1.1.riscv64 ....<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb40-89"><a href="#cb40-89" aria-hidden="true" tabindex="-1"></a><span class="ex">%posttrans</span><span class="er">(</span><span class="ex">cantarell-fonts-0.303.1-1.2.noarch</span><span class="kw">)</span> <span class="ex">script</span> output:</span>
<span id="cb40-90"><a href="#cb40-90" aria-hidden="true" tabindex="-1"></a><span class="ex">Failed</span> to connect to bus: No medium found</span>
<span id="cb40-91"><a href="#cb40-91" aria-hidden="true" tabindex="-1"></a><span class="ex">Failed</span> to connect to bus: No medium found</span>
<span id="cb40-92"><a href="#cb40-92" aria-hidden="true" tabindex="-1"></a><span class="ex">Running</span> post-transaction scripts .........................................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb40-93"><a href="#cb40-93" aria-hidden="true" tabindex="-1"></a><span class="ex">Do</span> you want to install openh264 codecs from openSUSE openh264 repository<span class="pp">?</span> <span class="er">(</span><span class="ex">Y/n</span><span class="kw">)</span> <span class="ex">y</span></span>
<span id="cb40-94"><a href="#cb40-94" aria-hidden="true" tabindex="-1"></a><span class="ex">Installing</span> from existing repo <span class="st">&#39;Open H.264 Codec (openSUSE Tumbleweed)&#39;</span></span>
<span id="cb40-95"><a href="#cb40-95" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading</span> repository data...</span>
<span id="cb40-96"><a href="#cb40-96" aria-hidden="true" tabindex="-1"></a><span class="ex">Reading</span> installed packages...</span>
<span id="cb40-97"><a href="#cb40-97" aria-hidden="true" tabindex="-1"></a><span class="ex">Computing</span> distribution upgrade...</span>
<span id="cb40-98"><a href="#cb40-98" aria-hidden="true" tabindex="-1"></a><span class="ex">Nothing</span> to do.</span>
<span id="cb40-99"><a href="#cb40-99" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading</span> repository data...</span>
<span id="cb40-100"><a href="#cb40-100" aria-hidden="true" tabindex="-1"></a><span class="ex">Reading</span> installed packages...</span>
<span id="cb40-101"><a href="#cb40-101" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;libgstopenh264.so()(64bit)&#39;</span> not found in package names. Trying capabilities.</span>
<span id="cb40-102"><a href="#cb40-102" aria-hidden="true" tabindex="-1"></a><span class="ex">No</span> provider of <span class="st">&#39;libgstopenh264.so()(64bit)&#39;</span> found.</span>
<span id="cb40-103"><a href="#cb40-103" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;mozilla-openh264&#39;</span> not found in package names. Trying capabilities.</span>
<span id="cb40-104"><a href="#cb40-104" aria-hidden="true" tabindex="-1"></a><span class="ex">No</span> provider of <span class="st">&#39;mozilla-openh264&#39;</span> found.</span>
<span id="cb40-105"><a href="#cb40-105" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> package dependencies...</span>
<span id="cb40-106"><a href="#cb40-106" aria-hidden="true" tabindex="-1"></a><span class="ex">Nothing</span> to do.</span></code></pre></div>
<p>Install the KDE desktop</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install KDE desktop</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> zypper install <span class="at">-t</span> pattern kde kde_plasma</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> following 19 NEW patterns are going to be installed:</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">fonts</span> fonts_opt games kde kde_games kde_internet kde_multimedia kde_office</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">kde_pim</span> kde_plasma kde_utilities kde_utilities_opt kde_yast multimedia office</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">x11</span> x11_enhanced x11_yast yast2_desktop</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="ex">1128</span> new packages to install.</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Overall</span> download size: 926.3 MiB. Already cached: 0 B. After the operation,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a><span class="ex">additional</span> 2.4 GiB will be used.</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Continue?</span> [y/n/v/...<span class="pp">?</span> shows all options] <span class="er">(</span><span class="ex">y</span><span class="kw">)</span><span class="bu">:</span> y</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1118/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> sddm-0.20.0-4.1.riscv64 ..........................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1119/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> plasma5-workspace-branding-openSUSE-84.87~git20231<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a><span class="ex">update-alternatives:</span> using /usr/share/xsessions/plasma5.desktop to provide /usr/share/xsessions/default.desktop <span class="er">(</span><span class="ex">default-xsession.desktop</span><span class="kw">)</span> <span class="er">in</span> <span class="ex">auto</span> mode</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1120/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> plasma5-session-5.27.10-3.1.noarch ...............<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1121/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> pim-sieve-editor-23.08.4-1.1.riscv64 .............<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1122/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> patterns-base-x11-20200505-47.1.riscv64 ..........<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1123/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> patterns-base-x11_enhanced-20200505-47.1.riscv64 .<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1124/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> plasma5-session-wayland-5.27.10-3.1.riscv64 ......<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1125/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> patterns-kde-kde_pim-20231206-2.1.noarch .........<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1126/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> patterns-games-games-20220126-1.2.riscv64 ........<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1127/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> patterns-kde-kde_plasma-20231206-2.1.noarch ......<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1128/1128</span><span class="kw">)</span> <span class="ex">Installing:</span> patterns-kde-kde-20231206-2.1.noarch .............<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a><span class="ex">%posttrans</span><span class="er">(</span><span class="ex">java-11-openjdk-headless-11.0.22.0-17.1.riscv64</span><span class="kw">)</span> <span class="ex">script</span> output:</span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a><span class="ex">++</span> /usr/bin/file <span class="at">--mime-type</span> <span class="at">-b</span> /var/lib/ca-certificates/java-cacerts</span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a><span class="ex">++</span> stat <span class="at">-c</span> %s /usr/lib64/jvm/java-11-openjdk-11/lib/security/cacerts</span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a><span class="ex">++</span> /usr/bin/file <span class="at">--mime-type</span> <span class="at">-b</span> <span class="at">-L</span> /usr/lib64/jvm/java-11-openjdk-11/lib/security/cacerts</span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a><span class="ex">Running</span> post-transaction scripts .........................................<span class="pp">[</span><span class="ss">done</span><span class="pp">]</span></span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a><span class="ex">Update</span> notifications were received from the following packages:</span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a><span class="ex">mariadb-11.2.2-28.1.riscv64</span> <span class="er">(</span><span class="ex">/var/adm/update-messages/mariadb-11.2.2-28.1-something</span><span class="kw">)</span></span>
<span id="cb41-37"><a href="#cb41-37" aria-hidden="true" tabindex="-1"></a><span class="ex">View</span> the notifications now<span class="pp">?</span> <span class="pp">[</span><span class="ss">y/n</span><span class="pp">]</span> <span class="er">(</span><span class="ex">n</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb41-38"><a href="#cb41-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-39"><a href="#cb41-39" aria-hidden="true" tabindex="-1"></a><span class="co"># reboot, sometimes it hangs! then hard reset the board!</span></span>
<span id="cb41-40"><a href="#cb41-40" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> reboot</span></code></pre></div>
<p>Done! You will now have OpenSUSE with KDE on RISC-V</p>
<figure>
<img src="OpenSUSEATIRadeonR9_290/Screenshot_OpenSUSE_Tumbleweed.png"
alt="screenshot of OpenSUSE on RISC-V" />
<figcaption aria-hidden="true">screenshot of OpenSUSE on
RISC-V</figcaption>
</figure>
<h2 id="after-updates">After Updates</h2>
<p>After running updates the system gives my only a grub prompt. I
fixxed that by recreating the <code>grup.cfg</code> on the EFI
partition</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo mount /dev/sdb1 ~/OpenSUSETumbleweed/sd/efi/</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo blkid</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/sda3:</span> TYPE=<span class="st">&quot;BitLocker&quot;</span> PARTLABEL=<span class="st">&quot;Basic data partition&quot;</span> PARTUUID=<span class="st">&quot;a4305c27-eb7f-4ab2-a711-e6f9420bf175&quot;</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/sda4:</span> BLOCK_SIZE=<span class="st">&quot;512&quot;</span> UUID=<span class="st">&quot;8698031798030581&quot;</span> TYPE=<span class="st">&quot;ntfs&quot;</span> PARTUUID=<span class="st">&quot;5633b16b-b2ed-4f0c-b9f1-38471da05550&quot;</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/sdb1:</span> SEC_TYPE=<span class="st">&quot;msdos&quot;</span> LABEL_FATBOOT=<span class="st">&quot;EFI&quot;</span> LABEL=<span class="st">&quot;EFI&quot;</span> UUID=<span class="st">&quot;9035-7EB0&quot;</span> BLOCK_SIZE=<span class="st">&quot;512&quot;</span> TYPE=<span class="st">&quot;vfat&quot;</span> PARTLABEL=<span class="st">&quot;p.UEFI&quot;</span> PARTUUID=<span class="st">&quot;1efd457e-107c-4159-8ca7-70f808bb0975&quot;</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/sdb3:</span> LABEL=<span class="st">&quot;ROOT&quot;</span> UUID=<span class="st">&quot;c0fea55f-b955-491e-82fb-eef04b20619d&quot;</span> BLOCK_SIZE=<span class="st">&quot;4096&quot;</span> TYPE=<span class="st">&quot;ext4&quot;</span> PARTLABEL=<span class="st">&quot;p.lxroot&quot;</span> PARTUUID=<span class="st">&quot;ae391a45-c12f-48f8-b9af-3c1c5872db1f&quot;</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/sdb5:</span> LABEL=<span class="st">&quot;SWAP&quot;</span> UUID=<span class="st">&quot;9a7b06a0-0385-44c1-8487-8881b55420ab&quot;</span> TYPE=<span class="st">&quot;swap&quot;</span> PARTLABEL=<span class="st">&quot;p.swap&quot;</span> PARTUUID=<span class="st">&quot;59a6c3a5-1cae-47e1-9c14-4899c752c449&quot;</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/zram0:</span> LABEL=<span class="st">&quot;zram0&quot;</span> UUID=<span class="st">&quot;8a74b26d-ba01-4e1e-aaa7-08f769c4d7f2&quot;</span> TYPE=<span class="st">&quot;swap&quot;</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/sdb4:</span> PARTLABEL=<span class="st">&quot;spl&quot;</span> PARTUUID=<span class="st">&quot;3e53f545-ccaa-4ba4-bde8-1bf3826557d9&quot;</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/sdb2:</span> PARTLABEL=<span class="st">&quot;uboot&quot;</span> PARTUUID=<span class="st">&quot;a3a77f65-d8e8-4450-a3b2-b06faf72bff2&quot;</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/sda2:</span> PARTLABEL=<span class="st">&quot;Microsoft reserved partition&quot;</span> PARTUUID=<span class="st">&quot;44d42eb1-d5aa-47ca-a146-dcb13723529c&quot;</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/OpenSUSETumbleweed/sd/efi/EFI/BOOT/grub.cfg</span></code></pre></div>
<p>and set this back: (have a good look if it is the correct UUID my
/dev/sdb3 == c0fea55f-b955-491e-82fb-eef04b20619d)</p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="dt">set btrfs_relative_path</span><span class="ot">=</span><span class="st">&quot;yes&quot;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="dt">search --fs-uuid --set</span><span class="ot">=</span><span class="st">root c0fea55f-b955-491e-82fb-eef04b20619d</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="dt">set prefix</span><span class="ot">=</span><span class="st">($root)/boot/grub2</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="dt">source ($root)/boot/grub2/grub.cfg</span></span></code></pre></div>
<div class="sourceCode" id="cb44"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo umount ~/OpenSUSETumbleweed/sd/efi/</span></code></pre></div>
<p>Boot your VisionFive again!</p>
<h2 id="compile-yquake2-duke3d">Compile yquake2 / duke3d</h2>
<div class="sourceCode" id="cb45"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="ex">zypper</span> install libcurl-devel git SDL2-devel git openal-soft-devel libvpx-devel alsa-devel flac-devel</span></code></pre></div></div>
            <div class="d-none d-xl-block col-xl-2 bd-toc">
               <ul class="section-nav">
                  <li class="toc-entry"><ul>
<li><a
href="#starfive-visionfive-2---opensuse-tumbleweed-with-external-gpu-ati-radeon-r9-290"
id="toc-starfive-visionfive-2---opensuse-tumbleweed-with-external-gpu-ati-radeon-r9-290">StarFive
VisionFive 2 - OpenSUSE Tumbleweed with external GPU ATI Radeon R9
290</a>
<ul>
<li><a href="#hardware" id="toc-hardware">Hardware</a></li>
<li><a href="#downloads" id="toc-downloads">Downloads</a></li>
<li><a href="#copychange-files-to-sd-card"
id="toc-copychange-files-to-sd-card">Copy/Change files to
SD-card</a></li>
<li><a href="#umount" id="toc-umount">Umount</a></li>
<li><a href="#gparted" id="toc-gparted">GParted</a></li>
<li><a href="#boot-the-starfive-visionfive-2"
id="toc-boot-the-starfive-visionfive-2">Boot the StarFive VisionFive
2</a></li>
<li><a href="#after-updates" id="toc-after-updates">After
Updates</a></li>
<li><a href="#compile-yquake2-duke3d"
id="toc-compile-yquake2-duke3d">Compile yquake2 / duke3d</a></li>
</ul></li>
</ul></li>
               </ul>
            </div>
         </div>
               </div>
            <!-- Add comment hosting service here -->
            <!-- Footer -->
            <footer class="footer text-muted">
                <div align="center">
                   <!-- Update licences -->
                   Content is available under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener">CC BY-SA 3.0</a>
                   &nbsp;|&nbsp;
                   Sourcecode licensed under <a target="_blank" href="https://www.gnu.org/licenses/gpl-3.0.en.html" target="_blank" rel="noopener">GPL-3.0</a>
                   <br />
                   <!-- Please keep the following line -->
                   Built with <a target="_blank" href="https://www.pandoc.org" target="_blank" rel="noopener">Pandoc</a> 
                   using <a target="_blank" href="https://github.com/ashki23/pandoc-bootstrap" target="_blank" rel="noopener">pandoc-bootstrap</a> theme
                   <br />
                   <!-- Update copyright -->
                   Copyright, Bas Magr&eacute;
                </div>
             </footer>
             <!-- Add global site tag (gtag.js) and site analytics here -->
            <!-- JS, Popper.js, and jQuery -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
      <!-- Mathjax -->
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script>
         /* Bootstrap styles to tables */
         function bootstrapStylePandocTables() {
         $('tr.header').parent('thead').parent('table').addClass('table table-condensed'); }
         $(document).ready(function () { bootstrapStylePandocTables(); });
         /* Adjust the height when click the toc */
         var shiftWindow = function() { scrollBy(0, -60) };
         window.addEventListener("hashchange", shiftWindow);
         function load() { if (window.location.hash) shiftWindow(); }
      </script>
   </body>
</html>