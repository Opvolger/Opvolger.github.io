<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="generator" content="pandoc">
      <meta name="author" content="Bas Magré">
      <meta name="date" content="2023-02-27">
      
      <title>StarFive VisionFive 2 Fedora ATI Radeon 5450</title>
      <link rel="icon" href="/website-template/favicon.ico">
      <!-- Bootstrap -->
      <link rel="stylesheet" target="_blank" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
      <!-- Font-awesome -->
      <link rel="stylesheet" target="_blank" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <!-- Styles -->
      <link rel="stylesheet" href="/website-template/styles.css">
            <!-- Add favicon here -->
            <!-- Add site-verifications here -->
         </head>
   <body>
            <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
                <!--<a class="navbar-brand" href="#">Navbar</a>-->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                   <ul class="navbar-nav mr-auto">
                      <li class="nav-item active">
                         <a class="nav-link" href="/index.html">Me <span class="sr-only">(current)</span></a>
                      </li>
                      <!-- <li class="nav-item">
                         <a class="nav-link" href="#">Link</a>
                      </li> -->
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarKODI" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Kodi Addons
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarKODI">
                           <a class="dropdown-item" href="/kodi/npo.html">NPO Uitzending gemist</a>               
                           <a class="dropdown-item" href="/kodi/kanalenlijst-hans.html">De Transponder - Kanalenlijk (Hans)</a>
                           <div class="dropdown-divider"></div>
                           <a class="dropdown-item" href="/kodi/rtlxl.html">(Inactive) RTLxl</a>
                        </div>
                     </li>
                      <li class="nav-item dropdown">
                         <a class="nav-link dropdown-toggle" href="#" id="navbarSFVF2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                         Starfive VisionFive 2
                         </a>
                         <div class="dropdown-menu" aria-labelledby="navbarSFVF2">
                            <a class="dropdown-item" href="/starfiveVisionFive2/UbuntuATIRadeonR9_290.html">Ubuntu 22.04 with ATI Radeon R9 290</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/FedoraATIRadeon5450.html">Fedora with ATI Radeon5450</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/UbuntuATIRadeonR9_290_2023_11_20.html">Ubuntu 23.10 with ATI Radeon R9 290</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/OpenSUSEATIRadeonR9_290.html">OpenSUSE Tumbleweed ATI Radeon R9 290</a>
                            <a class="dropdown-item" href="/starfiveVisionFive2/OpenSUSEATIRadeonR9_290_mainline.html">OpenSUSE Tumbleweed ATI Radeon R9 290</a>
                            <!-- <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a> -->
                         </div>
                      </li>
                      <!-- <li class="nav-item">
                         <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                      </li> -->
                   </ul>
                   <div class="menu-icons">
                     <a class="menu-icon" target="_blank" href="https://github.com/Opvolger" target="_blank"><i class="fa fa-github fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.twitter.com/Opvolger" target="_blank"><i class="fa fa-twitter fa-2x"></i></a>
                     <a class="menu-icon" href="mailto:Opvolger@gmail.com"><i class="fa fa-at fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.linkedin.com/in/bas-magr%C3%A9-67234222/" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.youtube.com/@justanotherdevopsguy" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
                     <a class="menu-icon" target="_blank" href="https://www.youtube.com/@opvolger" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
                  </div>

                   <!-- <form class="form-inline my-2 my-lg-0">
                      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                      <button class="btn btn-outline-info my-2 my-sm-0" type="submit">Search</button>
                   </form> -->
                </div>
             </nav>
            <div class="container">
         <p class="date">2023-02-27 - Bas Magré</p>
         <!-- <h1 class="title">StarFive VisionFive 2 Fedora ATI Radeon
5450</h1> -->
                  <div class="row">
            <div class="col-xl-10"><h1
id="starfive-visionfive-2---fedora-37-external-gpu-ati-radeon-5450-running-quake2">StarFive
VisionFive 2 - Fedora 37 external GPU ATI Radeon 5450 running
Quake2</h1>
<p>I wanted to compile and test a few programs on a RISC-V. I only ran
into the problem of minimal support of the onboard GPU and custom build
Debian from the StarFive Team.</p>
<p>So below you can see my “solution”. (Part I)</p>
<h2 id="hardware">Hardware</h2>
<ul>
<li>StarFive VisionFive 2</li>
<li>BEYIMEI PCIE Riser-Ver010X GPU Riser, 1X tot 16X (4PIN/6PIN/MOLEX)
PCIE-verlengkabel, M.2 naar PCI-E Riser Card Bitcoin Litecoin Ethereum.
This is about 11 EURO on amazon, so no big deal… <a
target="_blank" href="https://www.amazon.nl/dp/B0BF4PH83Y?ref_=pe_28126711_487767311_302_E_DDE_dt_1">amazon-link</a></li>
<li>ATI Radeon 5450, Bought on a Dutch second-hand website, for 10
EURO.</li>
<li>An ATX power supply (was still lying around in the house)</li>
<li>For debugging a USB to TTL (was still lying around in the house), is
about 5 EURO.</li>
</ul>
<figure>
<img src="FedoraATIRadeon5450/setup.png" alt="img" />
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>My first setup was with a too light power supply for the video card,
you can still see it in the background (no longer connected). I always
used this to connect a hard disk externally. If this also happens to
you, you will see that the video card is recognized by the kernel, but
that you see a lot of errors.
<code>[  817.910347] pcie_plda 2c000000.pcie: AXI fetch error</code></p>
<h2 id="debugging">Debugging</h2>
<p>The longest I spent trying to get a working kernel that had the ATI
video card and audio over HDMI working.</p>
<p>I have spent a lot of hours to get
<code>Kernel driver in use: radeon</code> and
<code>Kernel driver in use: snd_hda_intel</code> in my screen :)</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> lspci <span class="at">-k</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">0000:00:00.0</span> PCI bridge: PLDA XpressRich-AXI Ref Design <span class="er">(</span><span class="fu">rev</span> 02<span class="kw">)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">lspci:</span> Unable to load libkmod resources: error <span class="at">-2</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">0000:01:00.0</span> USB controller: VIA Technologies, Inc. VL805/806 xHCI USB 3.0 Controller <span class="er">(</span><span class="fu">rev</span> 01<span class="kw">)</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Subsystem:</span> VIA Technologies, Inc. VL805/806 xHCI USB 3.0 Controller</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Kernel</span> driver in use: xhci_hcd</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="ex">0001:00:00.0</span> PCI bridge: PLDA XpressRich-AXI Ref Design <span class="er">(</span><span class="fu">rev</span> 02<span class="kw">)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="ex">0001:01:00.0</span> VGA compatible controller: Advanced Micro Devices, Inc. <span class="pp">[</span><span class="ss">AMD/ATI</span><span class="pp">]</span> Cedar [Radeon HD 5000/6000/7350/8350 Series]</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Subsystem:</span> ASUSTeK Computer Inc. Device 0366</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Kernel</span> driver in use: radeon</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="ex">0001:01:00.1</span> Audio device: Advanced Micro Devices, Inc. <span class="pp">[</span><span class="ss">AMD/ATI</span><span class="pp">]</span> Cedar HDMI Audio [Radeon HD 5400/6300/7300 Series]</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Subsystem:</span> ASUSTeK Computer Inc. Device aa68</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Kernel</span> driver in use: snd_hda_intel</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># or for Audio</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> inxi <span class="at">-aA</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="ex">Audio:</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-1:</span> AMD Cedar HDMI Audio [Radeon HD 5400/6300/7300 Series] vendor: ASUSTeK</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="ex">driver:</span> snd_hda_intel v: kernel bus-ID: 0001:01:00.1 chip-ID: 1002:aa68 class-ID: 0403</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-2:</span> jh7110-pwmdac driver: starfive_pwmdac bus-ID: N/A chip-ID: starfive:100b0000</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="ex">class-ID:</span> pwmdac</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-3:</span> jh7110-hdmi driver: innohdmi_starfive bus-ID: N/A chip-ID: starfive:29590000</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="ex">class-ID:</span> hdmi</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-4:</span> simple-audio-card driver: N/A bus-ID: N/A chip-ID: simple-audio-card:soc</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="ex">class-ID:</span> snd-card0</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-5:</span> simple-audio-card driver: asoc_simple_card bus-ID: N/A</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="ex">chip-ID:</span> simple-audio-card:soc class-ID: snd-card1</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-6:</span> simple-audio-card driver: N/A bus-ID: N/A chip-ID: simple-audio-card:soc</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="ex">class-ID:</span> snd-card2</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-7:</span> simple-audio-card driver: asoc_simple_card bus-ID: N/A</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="ex">chip-ID:</span> simple-audio-card:soc class-ID: snd-card3</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-8:</span> simple-audio-card driver: N/A bus-ID: N/A chip-ID: simple-audio-card:soc</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="ex">class-ID:</span> snd-card4</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-9:</span> simple-audio-card driver: N/A bus-ID: N/A chip-ID: simple-audio-card:soc</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="ex">class-ID:</span> snd-card5</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Device-10:</span> simple-audio-card driver: N/A bus-ID: N/A chip-ID: simple-audio-card:soc</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="ex">class-ID:</span> snd-card6</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Sound</span> API: ALSA v: k5.15.0-dirty running: yes</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Sound</span> Server-1: PulseAudio v: 16.1 running: no</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Sound</span> Server-2: PipeWire v: 0.3.59 running: yes</span></code></pre></div>
<p>The longest it take to findout I had to add firmwares to the kernel.
I got the error’s with:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> journalctl <span class="at">-b</span> <span class="kw">|</span> <span class="fu">grep</span> radeon</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> journalctl <span class="at">-b</span> <span class="kw">|</span> <span class="fu">grep</span> amdgpu</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> journalctl <span class="at">-b</span> <span class="kw">|</span> <span class="fu">grep</span> firmware</span></code></pre></div>
<p>After this it was only getting the Fedora root partition on my
SD-card. The “Frankenstein” Debian-build-69 is fun if you want to see
the board working with the onboard GPU, but those drivers are really
unfinished and X11 was as fast as I could see completely custom build
for this GPU. (No OpenGL, OpenGL ES 3 only).</p>
<h2 id="diy-step-by-step">DIY Step by step</h2>
<h3 id="create-sd-card">Create SD-card</h3>
<p>My machine has a SD-card reader on <code>/dev/mmcblk0</code> this can
of course be difference on your machine.</p>
<p>Download the Debian-Image-69 from StarFive VisionFive 2 Support page
(I used the torrent in the google drive). Download the Fedora RISC-V
image <code>Fedora-Developer-37-20221130.n.0-nvme.raw.img.xz</code> <a
target="_blank" href="https://fedoraproject.org/wiki/Architectures/RISC-V/Installing#Download_manually">link</a>
and extract it to Fedora-Developer-37-20221130.n.0-nvme.raw.img</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a loop device of image</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo losetup <span class="at">-f</span> <span class="at">-P</span> ~/Downloads/Image-69/starfive-jh7110-VF2_515_v2.5.0-69.img</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo losetup <span class="at">-f</span> <span class="at">-P</span> ~/Downloads/Fedora-Developer-37-20221130.n.0-nvme.raw.img</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># find your loop device</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> losetup <span class="at">-l</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="ex">NAME</span>        SIZELIMIT OFFSET AUTOCLEAR RO BACK-FILE                                                               DIO LOG-SEC</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop1</span>          0      0         1  1 /var/lib/snapd/snaps/gnome-3-28-1804_161.snap                             0     512</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop8</span>          0      0         1  1 /var/lib/snapd/snaps/gtk-common-themes_1534.snap                          0     512</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop15</span>         0      0         0  0 /home/opvolger/Downloads/Fedora-Developer-37-20221130.n.0-nvme.raw.img    0     512</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop6</span>          0      0         1  1 /var/lib/snapd/snaps/core18_2679.snap                                     0     512</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop13</span>         0      0         1  1 /var/lib/snapd/snaps/wine-platform-runtime_335.snap                       0     512</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop4</span>          0      0         1  1 /var/lib/snapd/snaps/bare_5.snap                                          0     512</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop11</span>         0      0         1  1 /var/lib/snapd/snaps/wine-platform-5-stable_18.snap                       0     512</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop2</span>          0      0         1  1 /var/lib/snapd/snaps/core18_2697.snap                                     0     512</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop0</span>          0      0         1  1 /var/lib/snapd/snaps/gtk-common-themes_1535.snap                          0     512</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop9</span>          0      0         1  1 /var/lib/snapd/snaps/snapd_18357.snap                                     0     512</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop7</span>          0      0         1  1 /var/lib/snapd/snaps/snapd_17950.snap                                     0     512</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop14</span>         0      0         0  0 /home/opvolger/Downloads/Image-69/starfive-jh7110-VF2_515_v2.5.0-69.img   0     512</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop5</span>          0      0         1  1 /var/lib/snapd/snaps/cncra_63.snap                                        0     512</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop12</span>         0      0         1  1 /var/lib/snapd/snaps/wine-platform-runtime_334.snap                       0     512</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop3</span>          0      0         1  1 /var/lib/snapd/snaps/cncra_76.snap                                        0     512</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/loop10</span>         0      0         1  1 /var/lib/snapd/snaps/wine-platform-5-stable_16.snap                       0     512</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co"># in my case it is loop14 and loop15</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># insert your SD-card and delete all partitions (I had 3)</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo fdisk /dev/mmcblk0</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="ex">[sudo]</span> password for opvolger: </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to fdisk <span class="er">(</span><span class="ex">util-linux</span> 2.38.1<span class="kw">)</span><span class="bu">.</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="ex">Changes</span> will remain in memory only, until you decide to write them.</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="ex">Be</span> careful before using the write command.</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="ex">Command</span> <span class="er">(</span><span class="ex">m</span> for help<span class="kw">)</span><span class="bu">:</span> d</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="ex">Partition</span> number <span class="er">(</span><span class="ex">1-3,</span> default 3<span class="kw">)</span><span class="bu">:</span> 1</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="ex">Partition</span> 1 has been deleted.</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="ex">Command</span> <span class="er">(</span><span class="ex">m</span> for help<span class="kw">)</span><span class="bu">:</span> d</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="ex">Partition</span> number <span class="er">(</span><span class="ex">2,3,</span> default 3<span class="kw">)</span><span class="bu">:</span> 2</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a><span class="ex">Partition</span> 2 has been deleted.</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a><span class="ex">Command</span> <span class="er">(</span><span class="ex">m</span> for help<span class="kw">)</span><span class="bu">:</span> d</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a><span class="ex">Selected</span> partition 3</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a><span class="ex">Partition</span> 3 has been deleted.</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a><span class="ex">Command</span> <span class="er">(</span><span class="ex">m</span> for help<span class="kw">)</span><span class="bu">:</span> w</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> partition table has been altered.</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="ex">Calling</span> ioctl<span class="er">(</span><span class="kw">)</span> <span class="ex">to</span> re-read partition table.</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a><span class="ex">Syncing</span> disks.</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="co"># add all 3 partitions (not all data) of the Debain-Image-69 to the SD-card</span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo dd if=/dev/loop14 of=/dev/mmcblk0 status=progress</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a><span class="ex">[sudo]</span> password for opvolger: </span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="ex">1121309184</span> bytes <span class="er">(</span><span class="ex">1.1</span> GB, 1.0 GiB<span class="kw">)</span> <span class="ex">copied,</span> 93 s, 12.1 MB/s^C</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="ex">2190529+0</span> records in</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a><span class="ex">2190529+0</span> records out</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="ex">1121550848</span> bytes <span class="er">(</span><span class="ex">1.1</span> GB, 1.0 GiB<span class="kw">)</span> <span class="ex">copied,</span> 95.7358 s, 11.7 MB/s</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a><span class="co"># You can hit Ctrl+C after about 1GB (I did!)</span></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a><span class="co"># the Fedora img has only 2 partitions, 2nd is the root partition. We need to (re)place the root partition of the Debain-Image-69 (3th partition now on the SD-card)</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo dd if=/dev/loop15p2 of=/dev/mmcblk0p3 status=progress</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a><span class="ex">9975758848</span> bytes <span class="er">(</span><span class="ex">10</span> GB, 9.3 GiB<span class="kw">)</span> <span class="ex">copied,</span> 319 s, 31.3 MB/s </span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a><span class="ex">19537853+0</span> records in</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a><span class="ex">19537853+0</span> records out</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a><span class="ex">10003380736</span> bytes <span class="er">(</span><span class="ex">10</span> GB, 9.3 GiB<span class="kw">)</span> <span class="ex">copied,</span> 384.316 s, 26.0 MB/s</span></code></pre></div>
<p>Remove the SD-card and put it back in again.</p>
<h3 id="building-the-linux-kernel">Building the Linux Kernel</h3>
<p>I build this on my own machine, otherwise it will take a very long
time. so cross compile! Everything is neatly explained if you click
through to the “linux” repo of all (yet) custom code for the SBC. <a
target="_blank" href="https://github.com/starfive-tech/VisionFive2">link</a></p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir ~/visionfive2</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd visionfive2</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git clone https://github.com/starfive-tech/linux.git</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Cloning</span> into <span class="st">&#39;linux&#39;</span>...</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Enumerating objects: 9350943, done.</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Counting objects: 100% <span class="er">(</span><span class="ex">1061/1061</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Compressing objects: 100% <span class="er">(</span><span class="ex">425/425</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Receiving</span> objects:   1% <span class="er">(</span><span class="ex">160706/9350943</span><span class="kw">)</span><span class="ex">,</span> 77.16 MiB <span class="kw">|</span> <span class="ex">14.26</span> MiB/s</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Done</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd linux</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git checkout JH7110_VisionFive2_devel <span class="co"># not working with tag &#39;VF2_v2.10.4&#39;, may in the feature it will (again)</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git checkout VF2_v2.8.0</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Updating</span> files: 100% <span class="er">(</span><span class="ex">20490/20490</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Switched</span> to branch <span class="st">&#39;JH7110_VisionFive2_devel&#39;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Your</span> branch is up to date with <span class="st">&#39;origin/JH7110_VisionFive2_devel&#39;</span>.</span></code></pre></div>
<p>Now we have the modified kernel 5.15 that workes with VisionFive 2.
We can use the instructions of the other branch <a
target="_blank" href="https://github.com/starfive-tech/linux/tree/JH7110_VisionFive2_upstream">link</a>.
Here and there I deviated a little from it</p>
<p>I am running Manjaro on got an error. I fixxed it in
<code>arch/riscv/Makefile</code> on line +/- 56 (find this online).</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode makefile"><code class="sourceCode makefile"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ISA string setting</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="dt">riscv-march-$(CONFIG_ARCH_RV32I)</span>    <span class="ch">:=</span><span class="st"> rv32ima</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="dt">riscv-march-$(CONFIG_ARCH_RV64I)</span>    <span class="ch">:=</span><span class="st"> rv64ima</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="dt">riscv-march-$(CONFIG_FPU)</span>       <span class="ch">:=</span><span class="st"> </span><span class="ch">$(</span><span class="dt">riscv-march-y</span><span class="ch">)</span><span class="st">fd</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="dt">riscv-march-$(CONFIG_RISCV_ISA_C)</span>   <span class="ch">:=</span><span class="st"> </span><span class="ch">$(</span><span class="dt">riscv-march-y</span><span class="ch">)</span><span class="st">c</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Newer binutils versions default to ISA spec version 20191213 which moves some</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># instructions from the I extension to the Zicsr and Zifencei extensions.</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="dt">toolchain-need-zicsr-zifencei</span> <span class="ch">:=</span><span class="st"> </span><span class="ch">$(</span><span class="kw">call</span><span class="st"> cc-option-yn</span><span class="kw">,</span><span class="st"> -march=</span><span class="ch">$(</span><span class="dt">riscv-march-y</span><span class="ch">)</span><span class="st">_zicsr_zifencei</span><span class="ch">)</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="dt">riscv-march-$(toolchain-need-zicsr-zifencei)</span> <span class="ch">:=</span><span class="st"> </span><span class="ch">$(</span><span class="dt">riscv-march-y</span><span class="ch">)</span><span class="st">_zicsr_zifencei</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="dt">KBUILD_CFLAGS</span> <span class="ch">+=</span><span class="st"> -march=</span><span class="ch">$(</span><span class="kw">subst</span><span class="st"> fd</span><span class="kw">,,</span><span class="ch">$(</span><span class="dt">riscv-march-y</span><span class="ch">))</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="dt">KBUILD_AFLAGS</span> <span class="ch">+=</span><span class="st"> -march=</span><span class="ch">$(</span><span class="dt">riscv-march-y</span><span class="ch">)</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create the .config with all you need for only the StarFive VisionFive 2</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- starfive_jh7110_defconfig</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># open the menu</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> CROSS_COMPILE=riscv64-linux-gnu- ARCH=riscv menuconfig</span></code></pre></div>
<p>Now we have to add the ATI video-card and HDMI-audio.</p>
<pre><code>Device Drivers ---&gt; [HIT ENTER]
  Generic Driver Options ---&gt; [HIT ENTER]
    Firmware loader ---&gt; [HIT ENTER]
      () Build named firmware blobs into the kernel binary [HIT ENTER]</code></pre>
<p>enter this in the line:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dt">radeon/CYPRESS_uvd.bin radeon/CEDAR_smc.bin radeon/CEDAR_me.bin radeon/CEDAR_pfp.bin radeon/CEDAR_rlc.bin</span></span></code></pre></div>
<p>Select Exit,Exit,Exit</p>
<pre><code>Device Drivers ---&gt;
  Graphics support ---&gt; [HIT ENTER]
    &lt;*&gt; ATI Radeon [hit space twice]</code></pre>
<p>Select Exit</p>
<pre><code>Device Drivers ---&gt;
  Sound card support ---&gt; [HIT ENTER]
    Advanced Linux Sound Architecture ---&gt; [HIT ENTER]
      HD-Audio ---&gt;
        Build HDMI/DisplayPort HD-audio codec support [hit space twice]</code></pre>
<p>Select Exit,Exit,Exit,Exit</p>
<p>Now save your changes! as .config and Exit</p>
<p>We can compile the kernel, I have 8 cores in my machine… so I added
-j 8</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> make ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- <span class="at">-j</span> 8</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">SYNC</span>    include/config/auto.conf</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CALL</span>    scripts/atomic/check-atomics.sh</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CALL</span>    scripts/checksyscalls.sh</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CHK</span>     include/generated/compile.h</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      sound/core/sound.o</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      sound/core/init.o</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      sound/core/control.o</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">UPD</span>     kernel/config_data</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">AR</span>      sound/pci/ac97/built-in.a</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      sound/pci/hda/hda_bind.o</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      sound/pci/hda/hda_codec.o</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">GZIP</span>    kernel/config_data.gz</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      kernel/configs.o</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      drivers/tty/vt/keyboard.o</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">AR</span>      kernel/built-in.a</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      sound/core/vmaster.o</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      sound/usb/card.o</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      sound/pci/hda/hda_jack.o</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">CC</span>      sound/core/ctljack.o</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="ex">LD</span>      vmlinux</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="ex">SORTTAB</span> vmlinux</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="ex">SYSMAP</span>  System.map</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  <span class="ex">MODPOST</span> modules-only.symvers</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>  <span class="ex">OBJCOPY</span> arch/riscv/boot/Image</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>  <span class="ex">GZIP</span>    arch/riscv/boot/Image.gz</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  <span class="ex">GEN</span>     Module.symvers</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>  <span class="ex">LD</span> <span class="pp">[</span><span class="ss">M</span><span class="pp">]</span>  drivers/net/wireless/eswin/wlan_ecr6600u_usb.ko</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Kernel:</span> arch/riscv/boot/Image.gz is ready</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> ~/visionfive2/kernel</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> make CROSS_COMPILE=riscv64-linux-gnu- ARCH=riscv INSTALL_PATH=~/visionfive2/kernel zinstall <span class="at">-j</span> 8</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a><span class="fu">sh</span> ./arch/riscv/boot/install.sh 5.15.0-dirty <span class="dt">\</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>arch/riscv/boot/Image.gz System.map <span class="st">&quot;/home/opvolger/visionfive2/kernel&quot;</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a><span class="ex">Installing</span> compressed kernel</span></code></pre></div>
<p>The kernel is Done! Now copy it to the boot partition!</p>
<h4 id="bootroot-copy-kernel">BOOT/ROOT Copy kernel</h4>
<p>We have the SD-card inserted (again).</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> ~/visionfive2/boot</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> ~/visionfive2/root</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># mount boot and root partition</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo mount /dev/mmcblk0p2 ~/visionfive2/boot</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo mount /dev/mmcblk0p3 ~/visionfive2/root</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># copy the kernel</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo cp ~/visionfive2/kernel/<span class="pp">*</span>dirty ~/visionfive2/boot/boot</span></code></pre></div>
<h4 id="bootroot-add-the-boot-option">BOOT/ROOT Add the boot option</h4>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/boot/boot/extlinux/extlinux.conf</span></code></pre></div>
<p>We have to change the kernel from /boot/vmlinuz-5.15.0-starfive to
/boot/vmlinuz-5.15.0-dirty</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">## /boot/extlinux/extlinux.conf</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">##</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">## IMPORTANT </span><span class="al">WARNING</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">##</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">## The configuration of this file is generated automatically.</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">## Do not edit this file manually, use: u-boot-update</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="dt">default l0</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="dt">menu title U-Boot menu</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="dt">prompt 0</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="dt">timeout 50</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="dt">label l0</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="dt">        menu label Debian GNU/Linux bookworm/sid 5.15.0-starfive</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="dt">        linux /boot/vmlinuz-5.15.0-starfive</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="dt">        initrd /boot/initrd.img-5.15.0-starfive</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="dt">        fdtdir /boot/dtbs/</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="dt">        append  root</span><span class="ot">=</span><span class="st">/dev/mmcblk1p3 rw console=tty0 console=ttyS0,115200 earlycon rootwait stmmaceth=chain_mode:1 selinux=0</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="dt">label l0r</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="dt">        menu label Debian GNU/Linux bookworm/sid 5.15.0-starfive (rescue target)</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="dt">        linux /boot/vmlinuz-5.15.0-starfive</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="dt">        initrd /boot/initrd.img-5.15.0-starfive</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="dt">        fdtdir /boot/dtbs/</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="dt">        append  root</span><span class="ot">=</span><span class="st">/dev/mmcblk1p3 rw console=tty0 console=ttyS0,115200 earlycon rootwait stmmaceth=chain_mode:1 selinux=0 single</span></span></code></pre></div>
<p>to</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">## /boot/extlinux/extlinux.conf</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">##</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">## IMPORTANT </span><span class="al">WARNING</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">##</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">## The configuration of this file is generated automatically.</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">## Do not edit this file manually, use: u-boot-update</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="dt">default l0</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="dt">menu title U-Boot menu</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="dt">prompt 0</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="dt">timeout 50</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="dt">label l0</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="dt">        menu label Fedora GNU/Linux bookworm/sid 5.15.0-dirty</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="dt">        linux /boot/vmlinuz-5.15.0-dirty</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="dt">        initrd /boot/initrd.img-5.15.0-starfive</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="dt">        fdtdir /boot/dtbs/</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="dt">        append  root</span><span class="ot">=</span><span class="st">/dev/mmcblk1p3 rw console=tty0 console=ttyS0,115200 earlycon rootwait stmmaceth=chain_mode:1 selinux=0</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="dt">label l0r</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="dt">        menu label Debian GNU/Linux bookworm/sid 5.15.0-starfive (rescue target)</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a><span class="dt">        linux /boot/vmlinuz-5.15.0-starfive</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a><span class="dt">        initrd /boot/initrd.img-5.15.0-starfive</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="dt">        fdtdir /boot/dtbs/</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="dt">        append  root</span><span class="ot">=</span><span class="st">/dev/mmcblk1p3 rw console=tty0 console=ttyS0,115200 earlycon rootwait stmmaceth=chain_mode:1 selinux=0 single</span></span></code></pre></div>
<h4 id="bootroot-fix-the-fstab-of-the-root-partition">BOOT/ROOT Fix the
fstab of the root partition</h4>
<p>We have to change the /boot mount point. The UUID and type are
different. We have to findout the new UUID and change the type from ext4
to vfat. (Debian image works with vfat!)</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> blkid /dev/mmcblk0p2</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/dev/mmcblk0p2:</span> SEC_TYPE=<span class="st">&quot;msdos&quot;</span> UUID=<span class="st">&quot;9936-8B5F&quot;</span> BLOCK_SIZE=<span class="st">&quot;512&quot;</span> TYPE=<span class="st">&quot;vfat&quot;</span> PARTUUID=<span class="st">&quot;9ba5bebd-7dd9-4a43-b352-3b197302ead9&quot;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/root/etc/fstab</span></code></pre></div>
<p>change</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="dt">UUID</span><span class="ot">=</span><span class="st">d9334329-e2ad-4b72-8f5f-b61406e9d461  / ext4    defaults,noatime,x-systemd.device-timeout=300s,x-systemd.mount-timeout=300s 0 0</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="dt">UUID</span><span class="ot">=</span><span class="st">53e7246e-90c3-42c4-b447-3ebc9fe1fdfc  /boot ext4    defaults,noatime,x-systemd.device-timeout=300s,x-systemd.mount-timeout=300s 0 0</span></span></code></pre></div>
<p>to</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="dt">UUID</span><span class="ot">=</span><span class="st">d9334329-e2ad-4b72-8f5f-b61406e9d461  / ext4    defaults,noatime,x-systemd.device-timeout=300s,x-systemd.mount-timeout=300s 0 0</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="dt">UUID</span><span class="ot">=</span><span class="st">9936-8B5F  /boot vfat    defaults,noatime,x-systemd.device-timeout=30s,x-systemd.mount-timeout=30s 0 0</span></span></code></pre></div>
<h4 id="bootroot-yum-repos">BOOT/ROOT Yum repo’s</h4>
<p>There is no real release yet of RISC-V of Fedora (mainline). So we
need to disable alot of repo’s</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/root/etc/yum.repos.d/fedora-cisco-openh264.repo </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/root/etc/yum.repos.d/fedora-modular.repo </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/root/etc/yum.repos.d/fedora-riscv.repo </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/root/etc/yum.repos.d/fedora-updates-modular.repo </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/root/etc/yum.repos.d/fedora-updates.repo </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/root/etc/yum.repos.d/fedora-updates-testing-modular.repo </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/root/etc/yum.repos.d/fedora-updates-testing.repo</span></code></pre></div>
<p>and change</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dt">enabled</span><span class="ot">=</span><span class="dv">1</span></span></code></pre></div>
<p>to</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dt">enabled</span><span class="ot">=</span><span class="dv">0</span></span></code></pre></div>
<p>We only have to update one file</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo nano ~/visionfive2/root/etc/yum.repos.d/fedora.repo</span></code></pre></div>
<div class="sourceCode" id="cb23"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[fedora]</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="dt">name</span><span class="ot">=</span><span class="st">Fedora $releasever - $basearch</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#baseurl=http://download.example/pub/fedora/linux/releases/$releasever/Everything/$basearch/os/</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="dt">metalink</span><span class="ot">=</span><span class="st">https://mirrors.fedoraproject.org/metalink?repo=fedora-$releasever&amp;arch=$basearch</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="dt">enabled</span><span class="ot">=</span><span class="dv">1</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="dt">countme</span><span class="ot">=</span><span class="dv">1</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="dt">metadata_expire</span><span class="ot">=</span><span class="st">6h</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="dt">...</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="dt">...</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="dt">...</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="dt">...</span></span></code></pre></div>
<p>to</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[fedora]</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="dt">name</span><span class="ot">=</span><span class="st">Fedora $releasever - $basearch</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="dt">baseurl</span><span class="ot">=</span><span class="st">https://dl.fedoraproject.org/pub/alt/risc-v/repo/fedora/37/latest/riscv64/</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#metalink=https://mirrors.fedoraproject.org/metalink?repo=fedora-$releasever&amp;arch=$basearch</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="dt">enabled</span><span class="ot">=</span><span class="dv">1</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="dt">countme</span><span class="ot">=</span><span class="dv">1</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="dt">metadata_expire</span><span class="ot">=</span><span class="st">6h</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="dt">...</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="dt">...</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="dt">...</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="dt">...</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="dt">...</span></span></code></pre></div>
<h2 id="boot-it-up">BOOT it up!</h2>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># umount the SD-card</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo umount ~/visionfive2/root/</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo umount ~/visionfive2/boot/</span></code></pre></div>
<p>Put the SD-card into the VisionFive 2 and turn it on! We have to wait
for dev-zram0.device …</p>
<p>Now we connect to the VisionFive 2 (ip will be different)</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ssh riscv@192.168.2.20</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> authenticity of host <span class="st">&#39;192.168.2.20 (192.168.2.20)&#39;</span> can<span class="st">&#39;t be established.</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="st">ED25519 key fingerprint is SHA256:cqqk6Zm4/oC0tSwrC4JtT29MPpOC7Ye9yAuxQMklugM.</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="st">This key is not known by any other names.</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="st">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="st">Warning: Permanently added &#39;</span>192.168.2.20<span class="st">&#39; (ED25519) to the list of known hosts.</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="st">riscv@192.168.2.20&#39;</span>s password: </span></code></pre></div>
<p>Now first remove zram!</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ sudo yum remove zram-generator-defaults</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="ex">We</span> trust you have received the usual lecture from the local System</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Administrator.</span> It usually boils down to these three things:</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#1) Respect the privacy of others.</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#2) Think before you type.</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#3) With great power comes great responsibility.</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="ex">[sudo]</span> password for riscv:</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Dependencies</span> resolved.</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="ex">===============================================================================================================</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a> <span class="ex">Package</span>                           Architecture      Version                  Repository                  Size</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="ex">===============================================================================================================</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Removing:</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a> <span class="ex">zram-generator-defaults</span>           noarch            1.1.2-2.fc37             @koji-override-0           320  </span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="ex">Removing</span> unused dependencies:</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a> <span class="ex">zram-generator</span>                    riscv64           1.1.2-2.fc37             @koji-override-0           728 k</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="ex">Transaction</span> Summary</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="ex">===============================================================================================================</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a><span class="ex">Remove</span>  2 Packages</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="ex">Freed</span> space: 728 k</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="ex">Is</span> this ok <span class="pp">[</span><span class="ss">y/N</span><span class="pp">]</span>: y</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a><span class="ex">Running</span> transaction check</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a><span class="ex">Transaction</span> check succeeded.</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a><span class="ex">Running</span> transaction test</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a><span class="ex">Transaction</span> test succeeded.</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a><span class="ex">Running</span> transaction</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Preparing</span>        :                                                                                       1/1 </span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Erasing</span>          : zram-generator-defaults-1.1.2-2.fc37.noarch                                           1/2 </span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Erasing</span>          : zram-generator-1.1.2-2.fc37.riscv64                                                   2/2 </span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Running</span> scriptlet: zram-generator-1.1.2-2.fc37.riscv64                                                   2/2 </span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Verifying</span>        : zram-generator-1.1.2-2.fc37.riscv64                                                   1/2 </span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Verifying</span>        : zram-generator-defaults-1.1.2-2.fc37.noarch                                           2/2 </span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a><span class="ex">Removed:</span></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>  <span class="ex">zram-generator-1.1.2-2.fc37.riscv64</span>                zram-generator-defaults-1.1.2-2.fc37.noarch               </span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a><span class="ex">Complete!</span></span></code></pre></div>
<h2 id="update">Update</h2>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo dnf update <span class="at">--exclude</span><span class="op">=</span>kernel-<span class="pp">*</span> <span class="at">--exclude</span><span class="op">=</span>uboot-<span class="pp">*</span> <span class="at">--exclude</span><span class="op">=</span>opensbi-<span class="pp">*</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo dnf install firefox @gnome-desktop <span class="at">--skip-broken</span> <span class="co"># pptp is not yet there</span></span></code></pre></div>
<h2 id="compile-quake2">Compile Quake2</h2>
<div class="sourceCode" id="cb29"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># clean yum clean all</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ sudo yum clean all</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span> files removed</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install packages needed for compiling (Y)Quake2</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># GPG is not working, so no check on it (this will take a while)</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ sudo yum install SDL2-devel openal-soft-devel libcurl-devel <span class="at">--nogpgcheck</span> </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Fedora</span> 37 <span class="at">-</span> riscv64                                     71% [======================================-               ] 1.3 MB/s <span class="kw">|</span>  <span class="ex">40</span> MB     00:12 ETA</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Verifying</span>        : openal-soft-devel-1.22.2-2.fc37.riscv64                                                                                   10/10 </span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Installed:</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">SDL2-2.24.0-1.fc37.riscv64</span>                       SDL2-devel-2.24.0-1.fc37.riscv64                    libcurl-devel-7.85.0-2.fc37.riscv64           </span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">libdecor-0.1.0-3.fc37.riscv64</span>                    libglvnd-core-devel-1:1.5.0-1.fc37.riscv64          libglvnd-devel-1:1.5.0-1.fc37.riscv64         </span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">libmysofa-1.2.1-3.fc37.riscv64</span>                   mesa-libEGL-devel-22.2.2-1.fc37.riscv64             openal-soft-1.22.2-2.fc37.riscv64             </span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">openal-soft-devel-1.22.2-2.fc37.riscv64</span>         </span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="ex">Complete!</span></span></code></pre></div>
<p>Now clone Quake2 and build it!</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ git clone https://github.com/yquake2/yquake2.git</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Cloning</span> into <span class="st">&#39;yquake2&#39;</span>...</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Enumerating objects: 27461, done.</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Counting objects: 100% <span class="er">(</span><span class="ex">452/452</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Compressing objects: 100% <span class="er">(</span><span class="ex">203/203</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Total 27461 <span class="er">(</span><span class="ex">delta</span> 278<span class="kw">)</span><span class="ex">,</span> reused 386 <span class="er">(</span><span class="ex">delta</span> 248<span class="kw">)</span><span class="ex">,</span> pack-reused 27009</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Receiving</span> objects: 100% <span class="er">(</span><span class="ex">27461/27461</span><span class="kw">)</span><span class="ex">,</span> 24.93 MiB <span class="kw">|</span> <span class="ex">8.24</span> MiB/s, done.</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> deltas: 100% <span class="er">(</span><span class="ex">19048/19048</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ cd yquake2</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> yquake2]$ make</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Build</span> configuration</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="ex">============================</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="ex">YQ2_ARCH</span> = riscv64 COMPILER = gcc</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="ex">WITH_CURL</span> = yes</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="ex">WITH_OPENAL</span> = yes</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="ex">WITH_RPATH</span> = yes</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="ex">WITH_SYSTEMWIDE</span> = no</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="ex">WITH_SYSTEMDIR</span> = </span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="ex">============================</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="ex">===</span><span class="op">&gt;</span> Building quake2</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> release/quake2</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a><span class="va">make</span><span class="op">[</span><span class="dv">1</span><span class="op">]</span><span class="ex">:</span> Entering directory <span class="st">&#39;/home/riscv/yquake2&#39;</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a><span class="ex">===</span><span class="op">&gt;</span> CC src/backends/generic/misc.c</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a><span class="ex">===</span><span class="op">&gt;</span> CC src/client/cl_cin.c</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a><span class="ex">===</span><span class="op">&gt;</span> CC src/client/cl_console.c</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a><span class="ex">===</span><span class="op">&gt;</span> CC src/client/refresh/files/pvs.c</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a><span class="ex">===</span><span class="op">&gt;</span> CC src/common/shared/shared.c</span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a><span class="ex">===</span><span class="op">&gt;</span> CC src/common/md4.c</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a><span class="ex">===</span><span class="op">&gt;</span> CC src/backends/unix/shared/hunk.c</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a><span class="ex">===</span><span class="op">&gt;</span> LD release/ref_soft.so</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a><span class="va">make</span><span class="op">[</span><span class="dv">1</span><span class="op">]</span><span class="ex">:</span> Leaving directory <span class="st">&#39;/home/riscv/yquake2&#39;</span></span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ cd</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ mkdir <span class="at">-p</span> ~/.yq2/baseq2</span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a><span class="co"># if you own Quake2 copy the content of your baseq2 folder to ~/.yq2/baseq2</span></span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a><span class="co"># if not.. get the demo version of pak0.pak and other files from here:</span></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ git clone https://github.com/drags/docker-quake2.git</span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a><span class="ex">Cloning</span> into <span class="st">&#39;docker-quake2&#39;</span>...</span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Enumerating objects: 1190, done.</span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Total 1190 <span class="er">(</span><span class="ex">delta</span> 0<span class="kw">)</span><span class="ex">,</span> reused 0 <span class="er">(</span><span class="ex">delta</span> 0<span class="kw">)</span><span class="ex">,</span> pack-reused 1190</span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a><span class="ex">Receiving</span> objects: 100% <span class="er">(</span><span class="ex">1190/1190</span><span class="kw">)</span><span class="ex">,</span> 70.91 MiB <span class="kw">|</span> <span class="ex">8.56</span> MiB/s, done.</span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolving</span> deltas: 100% <span class="er">(</span><span class="ex">87/87</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a><span class="ex">Updating</span> files: 100% <span class="er">(</span><span class="ex">1191/1191</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ cp <span class="at">-R</span> docker-quake2/baseq2/<span class="pp">*</span> ~/.yq2/baseq2/</span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a><span class="co"># we have do not need x86 :)</span></span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ rm ~/.yq2/baseq2/gamex86_64.so</span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a><span class="co"># create maps.lst</span></span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a><span class="ex">[riscv@fedora-riscv</span> ~]$ cat <span class="op">&lt;&lt;EOT</span> <span class="op">&gt;&gt;</span> ~/.yq2/baseq2/maps.lst</span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a><span class="st">q2dm1 &quot;The Edge&quot; </span><span class="dt">\</span></span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a><span class="st">q2dm2 &quot;Tokay&#39;s Towers&quot; </span><span class="dt">\</span></span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a><span class="st">q2dm3 &quot;The Frag Pipe&quot; </span><span class="dt">\</span></span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a><span class="st">q2dm4 &quot;Lost Hallways&quot; </span><span class="dt">\</span></span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a><span class="st">q2dm5 &quot;The Pits&quot; </span><span class="dt">\</span></span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a><span class="st">q2dm6 &quot;Lava Tomb&quot; </span><span class="dt">\</span></span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a><span class="st">q2dm7 &quot;The Slimy Place&quot; </span><span class="dt">\</span></span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a><span class="st">q2dm8 &quot;WareHouse&quot;</span></span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a><span class="op">EOT</span></span></code></pre></div>
<p>Done!</p>
<h2 id="play-quake2">Play Quake2</h2>
<p>Login X11 and start ~/yquake2/release/quake2</p>
<figure>
<img src="FedoraATIRadeon5450/quake2Running.jpeg" alt="img" />
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>Here you can see the YouTube Demo:</p>
<p><a target="_blank" href="https://www.youtube.com/watch?v=UuSn_r9PNvM"><img
src="https://img.youtube.com/vi/UuSn_r9PNvM/0.jpg"
alt="YouTube Demo" /></a></p></div>
            <div class="d-none d-xl-block col-xl-2 bd-toc">
               <ul class="section-nav">
                  <li class="toc-entry"><ul>
<li><a
href="#starfive-visionfive-2---fedora-37-external-gpu-ati-radeon-5450-running-quake2"
id="toc-starfive-visionfive-2---fedora-37-external-gpu-ati-radeon-5450-running-quake2">StarFive
VisionFive 2 - Fedora 37 external GPU ATI Radeon 5450 running Quake2</a>
<ul>
<li><a href="#hardware" id="toc-hardware">Hardware</a></li>
<li><a href="#debugging" id="toc-debugging">Debugging</a></li>
<li><a href="#diy-step-by-step" id="toc-diy-step-by-step">DIY Step by
step</a></li>
<li><a href="#boot-it-up" id="toc-boot-it-up">BOOT it up!</a></li>
<li><a href="#update" id="toc-update">Update</a></li>
<li><a href="#compile-quake2" id="toc-compile-quake2">Compile
Quake2</a></li>
<li><a href="#play-quake2" id="toc-play-quake2">Play Quake2</a></li>
</ul></li>
</ul></li>
               </ul>
            </div>
         </div>
               </div>
            <!-- Add comment hosting service here -->
            <!-- Footer -->
            <footer class="footer text-muted">
                <div align="center">
                   <!-- Update licences -->
                   Content is available under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener">CC BY-SA 3.0</a>
                   &nbsp;|&nbsp;
                   Sourcecode licensed under <a target="_blank" href="https://www.gnu.org/licenses/gpl-3.0.en.html" target="_blank" rel="noopener">GPL-3.0</a>
                   <br />
                   <!-- Please keep the following line -->
                   Built with <a target="_blank" href="https://www.pandoc.org" target="_blank" rel="noopener">Pandoc</a> 
                   using <a target="_blank" href="https://github.com/ashki23/pandoc-bootstrap" target="_blank" rel="noopener">pandoc-bootstrap</a> theme
                   <br />
                   <!-- Update copyright -->
                   Copyright, Bas Magr&eacute;
                </div>
             </footer>
             <!-- Add global site tag (gtag.js) and site analytics here -->
            <!-- JS, Popper.js, and jQuery -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
      <!-- Mathjax -->
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script>
         /* Bootstrap styles to tables */
         function bootstrapStylePandocTables() {
         $('tr.header').parent('thead').parent('table').addClass('table table-condensed'); }
         $(document).ready(function () { bootstrapStylePandocTables(); });
         /* Adjust the height when click the toc */
         var shiftWindow = function() { scrollBy(0, -60) };
         window.addEventListener("hashchange", shiftWindow);
         function load() { if (window.location.hash) shiftWindow(); }
      </script>
   </body>
</html>